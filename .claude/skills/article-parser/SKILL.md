---
name: article-parser
description: ä»å¤šä¸ªå¹³å°æå–å’Œæ•´ç†æ–‡ç« å†…å®¹åˆ°æœ¬åœ°æ–‡æ¡£ç³»ç»Ÿã€‚**æ ¸å¿ƒç­–ç•¥**ï¼šé‡åˆ°å°çº¢ä¹¦/æŠ–éŸ³ç­‰å›¾ç‰‡/è§†é¢‘å¹³å°é“¾æ¥æ—¶ï¼Œä¼˜å…ˆæœç´¢åŒä½œè€…/åŒæ ‡é¢˜çš„å¾®ä¿¡å…¬ä¼—å·ç‰ˆæœ¬ã€‚å¦‚æ— å¾®ä¿¡å…¬ä¼—å·ç‰ˆæœ¬ï¼Œå†ä½¿ç”¨åŸå¹³å°æå–æµç¨‹ã€‚ä½¿ç”¨æ—¶æœºï¼šç”¨æˆ·æä¾›ä»»ä½•å¹³å°æ–‡ç« é“¾æ¥ã€è¦æ±‚æå–æ–‡ç« å†…å®¹æˆ–"è§£æXXæ–‡ç« "æ—¶ã€‚
---

# æ–‡ç« è§£æä¸å½’æ¡£

## æ ¸å¿ƒå·¥ä½œæµç¨‹

### ğŸ¯ ä¼˜å…ˆæœç´¢ç­–ç•¥ï¼ˆæœ€é‡è¦ï¼‰

**å½“ç”¨æˆ·æä¾›æ–‡ç« é“¾æ¥æ—¶ï¼ŒæŒ‰ä»¥ä¸‹é¡ºåºå¤„ç†**ï¼š

#### æƒ…å†µ 1ï¼šç”¨æˆ·æä¾›å°çº¢ä¹¦/æŠ–éŸ³/å›¾ç‰‡è§†é¢‘å¹³å°é“¾æ¥

```
1. è¯†åˆ«ä½œè€…/æ ‡é¢˜
   â†“
2. æœç´¢å¾®ä¿¡å…¬ä¼—å·ï¼ˆåŒä½œè€… + åŒæ ‡é¢˜ï¼‰
   â†“
3a. æ‰¾åˆ° â†’ ä½¿ç”¨å¾®ä¿¡å…¬ä¼—å·ç‰ˆæœ¬ âœ…
   â†“
3b. æœªæ‰¾åˆ° â†’ ä½¿ç”¨åŸå¹³å°æå– âš ï¸
```

**ç¤ºä¾‹æµç¨‹**ï¼š

ç”¨æˆ·ç»™ï¼šå°çº¢ä¹¦é“¾æ¥ `https://www.xiaohongshu.com/explore/69698507000000001a0335b1`

å¤„ç†æ­¥éª¤ï¼š
1. è®¿é—®å°çº¢ä¹¦é“¾æ¥ï¼Œæå–ï¼šä½œè€…="AIä¿¡æ¯Gap"ï¼Œæ ‡é¢˜="Claude Codeä¹‹çˆ¶çš„å·¥ä½œæµç«äº†"
2. æœç´¢å¾®ä¿¡å…¬ä¼—å·ï¼š`site:mp.weixin.qq.com "AIä¿¡æ¯Gap" "Claude Code"`
3. æ‰¾åˆ°å¾®ä¿¡ç‰ˆæœ¬ â†’ ä½¿ç”¨å¾®ä¿¡ç‰ˆæœ¬ï¼ˆçº¯æ–‡æœ¬ï¼Œæ›´å‡†ç¡®ï¼‰

#### æƒ…å†µ 2ï¼šç”¨æˆ·ç›´æ¥æä¾›å¾®ä¿¡å…¬ä¼—å·é“¾æ¥

ç›´æ¥ä½¿ç”¨å¾®ä¿¡ç‰ˆæœ¬æå–ï¼ˆæœ€ä¼˜ï¼‰

#### æƒ…å†µ 3ï¼šç”¨æˆ·ç›´æ¥æä¾›åšå®¢/å®˜ç½‘é“¾æ¥

ç›´æ¥æå–ï¼ˆé€šå¸¸æ— å¼•ç”¨é™åˆ¶ï¼‰

---

## å¹³å°ä¼˜å…ˆçº§

| ä¼˜å…ˆçº§ | å¹³å° | å†…å®¹æ ¼å¼ | æå–éš¾åº¦ | æ¨èåº¦ |
|-------|------|----------|----------|--------|
| ğŸ¥‡ 1 | å¾®ä¿¡å…¬ä¼—å· | çº¯æ–‡æœ¬/HTML | â­ ç®€å• | âœ…âœ…âœ… å¼ºçƒˆæ¨è |
| ğŸ¥ˆ 2 | ä¸ªäººåšå®¢/å®˜ç½‘ | çº¯æ–‡æœ¬/HTML | â­ ç®€å• | âœ…âœ… æ¨è |
| ğŸ¥‰ 3 | Medium/Dev.to | çº¯æ–‡æœ¬/HTML | â­ ç®€å• | âœ…âœ… æ¨è |
| 4 | çŸ¥ä¹/ç®€ä¹¦ | çº¯æ–‡æœ¬/HTML | â­â­ ä¸­ç­‰ | âœ… å¯ç”¨ |
| 5 | å°çº¢ä¹¦ | å›¾ç‰‡ | â­â­â­â­ å¤æ‚ | âš ï¸ å¤‡é€‰ |
| 6 | æŠ–éŸ³/Bç«™ | è§†é¢‘ | â­â­â­â­â­ æœ€å¤æ‚ | âš ï¸ æœ€åé€‰æ‹© |

**åŸåˆ™**ï¼š
- âœ… ä¼˜å…ˆä½¿ç”¨æ–‡å­—å‹å¥½çš„å¹³å°
- âœ… å›¾ç‰‡/è§†é¢‘å¹³å°ä»…ä½œä¸ºå¤‡é€‰
- âœ… åŒä¸€å†…å®¹ä¼˜å…ˆé€‰æ‹©æ–‡å­—ç‰ˆæœ¬

---

## ä¼˜å…ˆçº§åŸåˆ™ï¼šå¾®ä¿¡å…¬ä¼—å· > å°çº¢ä¹¦

**é‡è¦**ï¼šåœ¨æå–ä»»ä½•æ–‡ç« å‰ï¼Œä¼˜å…ˆæ£€æŸ¥æ˜¯å¦æœ‰å¾®ä¿¡å…¬ä¼—å·ç‰ˆæœ¬ï¼ŒåŸå› ï¼š

| ç‰¹æ€§ | å¾®ä¿¡å…¬ä¼—å· | å°çº¢ä¹¦ |
|------|-----------|--------|
| å†…å®¹æ ¼å¼ | çº¯æ–‡æœ¬/HTML | å›¾ç‰‡ |
| æå–éš¾åº¦ | â­ ç®€å• | â­â­â­â­ å¤æ‚ |
| å‡†ç¡®æ€§ | âœ… 100% | âš ï¸ ä¾èµ–OCR |
| é€Ÿåº¦ | âš¡ å¿«é€Ÿ | ğŸŒ éœ€è¦å¤šæ­¥å¤„ç† |
| å®Œæ•´æ€§ | âœ… æ— é—æ¼ | âš ï¸ å¯èƒ½é—æ¼ |

### 0. ä¼˜å…ˆæœç´¢å¾®ä¿¡å…¬ä¼—å·

#### 0.1 æœç´¢æµç¨‹

**æ­¥éª¤1ï¼šä½¿ç”¨æœç‹—å¾®ä¿¡æœç´¢**

```bash
# 1. è®¿é—®æœç‹—å¾®ä¿¡æœç´¢
navigate_page -> https://weixin.sogou.com/

# 2. å¡«å†™æœç´¢æ¡†
fill -> æœç´¢æ¡†
value: "<å…¬ä¼—å·åç§°> <æ–‡ç« å…³é”®è¯>"
# ç¤ºä¾‹ï¼šAIä¿¡æ¯Gap Claude Code

# 3. ç‚¹å‡»æœç´¢æŒ‰é’®
click -> "æœæ–‡ç« "
```

**æ­¥éª¤2ï¼šè¯†åˆ«ç›®æ ‡æ–‡ç« **

ä»æœç´¢ç»“æœä¸­æ‰¾åˆ°ç›®æ ‡æ–‡ç« ï¼Œæ£€æŸ¥ï¼š
- âœ… å…¬ä¼—å·åç§°åŒ¹é…
- âœ… æ–‡ç« æ ‡é¢˜å…³é”®è¯åŒ¹é…
- âœ… å‘å¸ƒæ—¶é—´åˆç†
- âœ… å†…å®¹æ‘˜è¦åŒ¹é…

**æ­¥éª¤3ï¼šè®¿é—®å¹¶æå–å†…å®¹**

```bash
# ç›´æ¥è®¿é—®å¾®ä¿¡å…¬ä¼—å·æ–‡ç« é“¾æ¥
navigate_page -> <å¾®ä¿¡æ–‡ç« URL>

# è·å–å®Œæ•´å†…å®¹
take_snapshot -> æå–æ‰€æœ‰æ–‡æœ¬å†…å®¹
```

**æ­¥éª¤4ï¼šæå–å¹¶ä¿å­˜å¿…è¦é…å›¾**

å¯¹äºéå›¾ç‰‡/è§†é¢‘è¯†åˆ«çš„æ–‡ç« ï¼ˆå¦‚å¾®ä¿¡å…¬ä¼—å·ï¼‰ï¼Œæå–å¹¶ä¿å­˜å¿…è¦çš„é…å›¾ï¼š

```javascript
// ä½¿ç”¨ JavaScript è·å–æ–‡ç« ä¸­çš„æ‰€æœ‰å›¾ç‰‡
const images = Array.from(document.querySelectorAll('img'));
const articleImages = images
  .map(img => ({
    url: img.src || img['data-src'],
    alt: img.alt || '',
    width: img.width || img.naturalWidth || 0,
    height: img.height || img.naturalHeight || 0
  }))
  .filter(img => img.url && (img.url.includes('mmbiz') || img.url.includes('wx_fmt')));
articleImages;
```

**åˆ¤æ–­æ˜¯å¦ä¸ºå¿…è¦é…å›¾**ï¼š

âœ… **åº”è¯¥ä¿ç•™çš„é…å›¾**ï¼š
- æŠ€æœ¯æ¶æ„å›¾ã€æµç¨‹å›¾
- ç•Œé¢æˆªå›¾ã€ä»£ç è¿è¡Œæ•ˆæœå›¾
- æ•°æ®å›¾è¡¨ã€ç»Ÿè®¡å›¾
- ç¤ºæ„å›¾ã€è¯´æ˜å›¾
- æ–‡ç« ä¸­çš„å…³é”®é…å›¾

âŒ **åº”è¯¥å¿½ç•¥çš„å›¾ç‰‡**ï¼š
- ä½œè€…å¤´åƒ
- å…¬ä¼—å·äºŒç»´ç 
- åˆ†äº«å¼•å¯¼å›¾ï¼ˆ"å…³æ³¨æˆ‘"ã€"ç‚¹èµ"ç­‰ï¼‰
- è£…é¥°æ€§å°å›¾æ ‡
- å°ºå¯¸è¿‡å°çš„å›¾ç‰‡ï¼ˆå®½åº¦ < 200pxï¼‰
- æ˜æ˜¾çš„å¹¿å‘Šå›¾ç‰‡

**åˆ¤æ–­å›¾ç‰‡å¼•ç”¨é™åˆ¶**ï¼š

æ ¹æ®å›¾ç‰‡æ¥æºåˆ¤æ–­æ˜¯å¦éœ€è¦ä¸‹è½½ï¼š

| å›¾ç‰‡æ¥æº | æ˜¯å¦å—é™ | å¤„ç†æ–¹å¼ |
|---------|---------|---------|
| `mmbiz.qpic.cn` | âœ… æœ‰é˜²ç›—é“¾ | ä¸‹è½½åˆ°æœ¬åœ° |
| `sns-*pic.xhscdn.com` | âœ… æœ‰é˜²ç›—é“¾ | ä¸‹è½½åˆ°æœ¬åœ° |
| `github.com` | âŒ æ— é™åˆ¶ | ä¿ç•™é“¾æ¥ |
| `imgur.com` | âŒ æ— é™åˆ¶ | ä¿ç•™é“¾æ¥ |
| `unsplash.com` | âŒ æ— é™åˆ¶ | ä¿ç•™é“¾æ¥ |
| CDN é“¾æ¥ï¼ˆ`cdn.*`ï¼‰ | âš ï¸ å¾…ç¡®è®¤ | å…ˆå°è¯•é“¾æ¥ |
| å…¶ä»– | âš ï¸ å¾…ç¡®è®¤ | å…ˆå°è¯•é“¾æ¥ |

**å¤„ç†é…å›¾ï¼ˆåˆ†ä¸¤ç§æƒ…å†µï¼‰**ï¼š

**æƒ…å†µ1ï¼šæ— å¼•ç”¨é™åˆ¶ - ä¿ç•™é“¾æ¥**

```markdown
## æ­£æ–‡å†…å®¹

![é…å›¾è¯´æ˜](https://example.com/image.jpg)

ç»§ç»­æ–‡æœ¬å†…å®¹...
```

**æƒ…å†µ2ï¼šæœ‰å¼•ç”¨é™åˆ¶ - ä¸‹è½½åˆ°æœ¬åœ°**

```bash
# 1. åˆ›å»ºå›¾ç‰‡ç›®å½•ï¼ˆä»…åœ¨æœ‰éœ€è¦æ—¶åˆ›å»ºï¼‰
mkdir -p general/YYYY-MM-DD/article-slug/images/

# 2. ä¸‹è½½å—é™åˆ¶çš„å›¾ç‰‡åˆ°æœ¬åœ°
for img_url in "${RESTRICTED_IMAGES[@]}"; do
  # ä½¿ç”¨ curl ä¸‹è½½ï¼Œæ·»åŠ æ­£ç¡®çš„ referer
  curl -s \
    -H "Referer: https://mp.weixin.qq.com/" \
    -H "User-Agent: Mozilla/5.0" \
    "$img_url" \
    -o "general/YYYY-MM-DD/article-slug/images/image_${index}.jpg"
done
```

**åœ¨ Markdown ä¸­å¼•ç”¨æœ¬åœ°å›¾ç‰‡**ï¼š

```markdown
## æ­£æ–‡å†…å®¹

![é…å›¾è¯´æ˜](./images/image_1.jpg)

ç»§ç»­æ–‡æœ¬å†…å®¹...
```

**å›¾ç‰‡å­˜å‚¨è§„åˆ™**ï¼š

**æ¨èç­–ç•¥ï¼ˆä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼‰**ï¼š

| ä¼˜å…ˆçº§ | å­˜å‚¨æ–¹å¼ | é€‚ç”¨åœºæ™¯ | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|--------|---------|---------|------|------|
| ğŸ¥‡ 1 | **GitHub å›¾åºŠ** | å¾®ä¿¡ã€å°çº¢ä¹¦ç­‰æœ‰é˜²ç›—é“¾çš„å›¾ç‰‡ | å…è´¹ç¨³å®šã€CDNåŠ é€Ÿã€ç‰ˆæœ¬æ§åˆ¶ | éœ€è¦é…ç½® token |
| ğŸ¥ˆ 2 | è¿œç¨‹é“¾æ¥ | GitHubã€Imgurã€Unsplash ç­‰æ— é˜²ç›—é“¾å›¾ç‰‡ | èŠ‚çœç©ºé—´ã€æ— éœ€ä¸Šä¼  | ä¾èµ–å¤–éƒ¨æœåŠ¡ |
| ğŸ¥‰ 3 | æœ¬åœ°å­˜å‚¨ | å›¾åºŠä¸Šä¼ å¤±è´¥æ—¶çš„é™çº§æ–¹æ¡ˆ | ç‹¬ç«‹ç¨³å®š | å ç”¨ç©ºé—´ã€ä¸åœ¨ç‰ˆæœ¬æ§åˆ¶ä¸­ |

**GitHub å›¾åºŠä½¿ç”¨æ–¹å¼**ï¼š

```bash
# ä¸Šä¼ å•å¼ å›¾ç‰‡
python3 .claude/skills/article-parser/scripts/upload_to_github.py \
  "https://mmbiz.qpic.cn/xxx.jpg" \
  wechat

# è¾“å‡º: https://cdn.jsdelivr.net/gh/maxzyma/articleread/assets/images/wechat/2026-01/uuid.jpg
```

**é…ç½®è¦æ±‚**ï¼š

```bash
# åˆ›å»º GitHub Personal Access Token
# è®¿é—®: https://github.com/settings/tokens
# æƒé™: repo (full control)

# è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆåªéœ€é…ç½® GITHUB_TOKENï¼ï¼‰
export GITHUB_TOKEN="ghp_xxxxxxxxxxxxxxx"

# æ³¨æ„ï¼šGITHUB_IMAGE_REPO ä¼šè‡ªåŠ¨æ£€æµ‹å½“å‰ git ä»“åº“ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®
```

**ä»“åº“è‡ªåŠ¨æ£€æµ‹**ï¼š
- è„šæœ¬ä¼šè‡ªåŠ¨ä» `git remote -v` æ£€æµ‹ä»“åº“åœ°å€
- æ”¯æŒ HTTPS å’Œ SSH ä¸¤ç§ URL æ ¼å¼
- å¦‚æœè‡ªåŠ¨æ£€æµ‹å¤±è´¥ï¼Œå¯æ‰‹åŠ¨è®¾ç½® `GITHUB_IMAGE_REPO` ç¯å¢ƒå˜é‡

**æœ¬åœ°å›¾ç‰‡ç›®å½•ç»“æ„**ï¼ˆä»…ä½œä¸ºé™çº§æ–¹æ¡ˆï¼‰ï¼š
- å­˜å‚¨ä½ç½®ï¼š`æ–‡ç« ç›®å½•/images/`
- å‘½åæ ¼å¼ï¼š`image_1.jpg`, `image_2.png`, ...
- ä»…åœ¨å›¾åºŠä¸Šä¼ å¤±è´¥æ—¶ä½¿ç”¨
- å·²åœ¨ `.gitignore` ä¸­æ’é™¤ï¼ˆé¿å…æäº¤å¤§æ–‡ä»¶ï¼‰

**å»ºè®®**ï¼š
- âœ… ä¼˜å…ˆä½¿ç”¨ GitHub å›¾åºŠï¼ˆå…è´¹ã€ç¨³å®šã€CDN åŠ é€Ÿï¼‰
- âœ… è¿œç¨‹é“¾æ¥å›¾ç‰‡æ— éœ€ä¸Šä¼ 
- âš ï¸ æœ¬åœ°å­˜å‚¨ä»…ä½œä¸ºé™çº§æ–¹æ¡ˆ

**âš ï¸ å¾®ä¿¡å…¬ä¼—å·å›¾ç‰‡æå–æœ€ä½³å®è·µï¼ˆé‡è¦ï¼‰**

æ ¹æ®å®é™…æ¡ˆä¾‹ï¼ˆBoris Cherny Claude Code å·¥ä½œæµæ–‡ç« æå–ï¼‰ï¼Œæ€»ç»“äº†ä»¥ä¸‹å…³é”®æ•™è®­ï¼š

**é—®é¢˜1ï¼šæ‡’åŠ è½½å¯¼è‡´å›¾ç‰‡ä¸å®Œæ•´**
- **åŸå› **ï¼šå¾®ä¿¡å…¬ä¼—å·ä½¿ç”¨æ‡’åŠ è½½ï¼Œåˆå§‹çŠ¶æ€ä¸‹åªæœ‰é¦–å±å›¾ç‰‡åŠ è½½
- **è§£å†³**ï¼šå¿…é¡»å…ˆæ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨è§¦å‘æ‰€æœ‰æ‡’åŠ è½½ï¼Œå†æå–å›¾ç‰‡URL
- **æ“ä½œ**ï¼š
  ```javascript
  // æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨
  window.scrollTo(0, document.body.scrollHeight);
  // ç­‰å¾…2ç§’è®©å›¾ç‰‡åŠ è½½
  await new Promise(resolve => setTimeout(resolve, 2000));
  // å†æå–å›¾ç‰‡
  ```

**é—®é¢˜2ï¼šå ä½ç¬¦ SVG è¢«è¯¯è®¤ä¸ºçœŸå®å›¾ç‰‡**
- **åŸå› **ï¼šæœªåŠ è½½çš„å›¾ç‰‡æ˜¾ç¤ºä¸º `data:image/svg+xml` å ä½ç¬¦
- **è§£å†³**ï¼šè¿‡æ»¤æ‰æ‰€æœ‰ SVG å›¾ç‰‡ï¼Œåªä¿ç•™ `mmbiz.qpic.cn` çš„çœŸå®å›¾ç‰‡
- **åˆ¤æ–­æ¡ä»¶**ï¼š
  ```javascript
  // âœ… ä¿ç•™ï¼šçœŸå®å¾®ä¿¡å›¾ç‰‡
  url.includes('mmbiz.qpic.cn') && !url.includes('svg')
  // âŒ æ’é™¤ï¼šå ä½ç¬¦
  url.includes('data:image/svg')
  ```

**é—®é¢˜3ï¼šimgIndex ç¼–å·ä¸è¿ç»­**
- **åŸå› **ï¼šå¾®ä¿¡å›¾ç‰‡çš„ `#imgIndex=N` ç¼–å·ä¸ä¸€å®šè¿ç»­
- **é™·é˜±**ï¼šimgIndex å¯èƒ½æ˜¯ 0,1,2,3,4,5,6,7ï¼ˆè·³è¿‡æŸäº›æ•°å­—ï¼‰
- **è§£å†³**ï¼šä¸è¦å‡è®¾ imgIndex è¿ç»­ï¼Œå¿…é¡»é€šè¿‡ URL ä¸­çš„ imgIndex å‚æ•°åŒ¹é…ç« èŠ‚

**é—®é¢˜4ï¼šå¹¿å‘Šå›¾ç‰‡è¢«è¯¯å½“ä½œæ­£æ–‡å†…å®¹**
- **åŸå› **ï¼šæ–‡ç« æœ«å°¾çš„"æ¨èé˜…è¯»"å›¾ç‰‡ä¹Ÿæ˜¯ mmbiz åŸŸå
- **è¯†åˆ«**ï¼šé€šå¸¸åœ¨å€’æ•°ç¬¬äºŒã€ç¬¬ä¸‰ä¸ª H3 æ ‡é¢˜ä¹‹åå‡ºç°
- **è§£å†³**ï¼š
  - æ£€æŸ¥å›¾ç‰‡ä½ç½®ï¼šå¦‚æœåœ¨"ç»“è¯­"æˆ–"å…³äºä½œè€…"ä¹‹åï¼Œå¾ˆå¯èƒ½æ˜¯å¹¿å‘Š
  - æŸ¥çœ‹å›¾ç‰‡ä¸Šä¸‹æ–‡ï¼šå¦‚æœæœ‰é“¾æ¥åˆ°å…¶ä»–æ–‡ç« ï¼Œæ˜¯æ¨èå›¾ç‰‡
  - äººå·¥ç¡®è®¤ï¼šç”¨ `take_screenshot` æŸ¥çœ‹å›¾ç‰‡å†…å®¹

**é—®é¢˜5ï¼šå›¾ç‰‡ä½ç½®ä¸ç« èŠ‚å¯¹åº”æ··ä¹±**
- **åŸå› **ï¼šå›¾ç‰‡çš„ DOM é¡ºåºä¸æ–‡æœ¬é¡ºåºä¸ä¸€å®šä¸€è‡´
- **è§£å†³æ–¹æ³•**ï¼š
  1. **æ–¹æ³•Aï¼šæŒ‰ imgIndex åŒ¹é…**ï¼ˆæ¨èï¼‰
     ```javascript
     // æå–æ‰€æœ‰å›¾ç‰‡çš„ imgIndex
     const imgIndex = url.match(/imgIndex=(\d+)/)?.[1];
     // æŒ‰ç« èŠ‚é¡ºåºåˆ†é…å›¾ç‰‡
     ```
  2. **æ–¹æ³•Bï¼šæˆªå›¾éªŒè¯**
     - å¯¹æ¯ä¸ªç« èŠ‚ä½¿ç”¨ `take_screenshot` ç¡®è®¤æ˜¯å¦æœ‰å›¾ç‰‡
     - é€ä¸ªå¯¹æ¯”ï¼Œç¡®ä¿å›¾ç‰‡ä½ç½®æ­£ç¡®

**é—®é¢˜6ï¼šéƒ¨åˆ†å›¾ç‰‡éœ€è¦å¤šæ¬¡æ£€æŸ¥**
- **ç°è±¡**ï¼šç¬¬03èŠ‚å’Œç¬¬05èŠ‚æœ€åˆæ£€æŸ¥æ˜¾ç¤º"æ— å›¾ç‰‡"ï¼Œä½†å®é™…æœ‰å›¾ç‰‡
- **åŸå› **ï¼šå¯èƒ½æ˜¯æ‡’åŠ è½½è§¦å‘æ—¶æœºä¸å¯¹ï¼Œæˆ–è€…æ£€æŸ¥æ–¹æ³•æœ‰è¯¯
- **è§£å†³**ï¼š
  - ç”¨æˆ·åé¦ˆ"å›¾ç‰‡é—æ¼"æ—¶ï¼Œé‡æ–°ç”¨æˆªå›¾éªŒè¯
  - ä½¿ç”¨ `take_snapshot` æŸ¥çœ‹è¯¥ç« èŠ‚çš„å®Œæ•´å†…å®¹
  - æ»šåŠ¨åˆ°è¯¥ç« èŠ‚ä½ç½®åå†æ£€æŸ¥

**å®Œæ•´æå–æµç¨‹ï¼ˆæ¨èï¼‰**ï¼š

```javascript
// æ­¥éª¤1ï¼šæ»šåŠ¨é¡µé¢è§¦å‘æ‡’åŠ è½½
window.scrollTo(0, document.body.scrollHeight);
await new Promise(resolve => setTimeout(resolve, 2000));
window.scrollTo(0, 0);

// æ­¥éª¤2ï¼šæå–æ‰€æœ‰å›¾ç‰‡URL
const content = document.querySelector('#js_content');
const images = Array.from(content.querySelectorAll('img'));

const mmbizImages = images
  .map((img, idx) => {
    const url = img['data-src'] || img.src;
    const imgIndex = url.match(/imgIndex=(\d+)/)?.[1];
    return {
      index: idx,
      imgIndex: imgIndex,
      url: url,
      isMmbiz: url.includes('mmbiz.qpic.cn') && !url.includes('svg'),
      isPlaceholder: url.includes('data:image/svg')
    };
  })
  .filter(img => img.isMmbiz && !img.isPlaceholder);

// æ­¥éª¤3ï¼šä¸‹è½½å›¾ç‰‡åˆ°æœ¬åœ°ï¼ˆå¸¦ refererï¼‰
// æ­¥éª¤4ï¼šé€ä¸ªç« èŠ‚æˆªå›¾éªŒè¯å›¾ç‰‡ä½ç½®
// æ­¥éª¤5ï¼šäººå·¥ç¡®è®¤å¹¿å‘Šå›¾ç‰‡å¹¶ç§»é™¤
```

**æ£€æŸ¥æ¸…å•**ï¼š
- [ ] æ»šåŠ¨é¡µé¢è§¦å‘æ‡’åŠ è½½
- [ ] è¿‡æ»¤æ‰ SVG å ä½ç¬¦
- [ ] æå–æ‰€æœ‰çœŸå® mmbiz å›¾ç‰‡
- [ ] ä¸‹è½½å›¾ç‰‡åˆ°æœ¬åœ°å¹¶é‡å‘½åï¼ˆæŒ‰ imgIndexï¼‰
- [ ] é€ä¸ªç« èŠ‚æˆªå›¾éªŒè¯å›¾ç‰‡ä½ç½®
- [ ] ç§»é™¤æ–‡ç« æœ«å°¾çš„å¹¿å‘Šå›¾ç‰‡
- [ ] è®©ç”¨æˆ·éªŒè¯ç»“æœ

#### 0.2 æœç´¢æŠ€å·§å’Œå…·ä½“æ–¹æ³•

**ä»å°çº¢ä¹¦/æŠ–éŸ³é“¾æ¥å¯»æ‰¾å¾®ä¿¡å…¬ä¼—å·ç‰ˆæœ¬**ï¼š

```bash
# æ­¥éª¤ 1ï¼šè®¿é—®åŸé“¾æ¥æå–åŸºæœ¬ä¿¡æ¯
navigate_page -> <å°çº¢ä¹¦/æŠ–éŸ³é“¾æ¥>
take_snapshot -> æå–ä½œè€…åå’Œæ ‡é¢˜å…³é”®è¯

# æ­¥éª¤ 2ï¼šä½¿ç”¨æœç‹—å¾®ä¿¡æœç´¢
navigate_page -> https://weixin.sogou.com/
fill -> æœç´¢æ¡†
value: "<ä½œè€…å> <æ ‡é¢˜å…³é”®è¯>"
click -> "æœæ–‡ç« "

# æ­¥éª¤ 3ï¼šæ£€æŸ¥æœç´¢ç»“æœ
# æŸ¥æ‰¾å…¬ä¼—å·åç§°å’Œæ ‡é¢˜éƒ½åŒ¹é…çš„ç»“æœ
# å¦‚æœæ‰¾åˆ°ï¼Œç‚¹å‡»è¿›å…¥å¹¶ä½¿ç”¨å¾®ä¿¡ç‰ˆæœ¬
# å¦‚æœæœªæ‰¾åˆ°ï¼Œç»§ç»­ä½¿ç”¨åŸå¹³å°æå–æµç¨‹
```

**æœç´¢ç­–ç•¥è¡¨**ï¼š

| åœºæ™¯ | æœç´¢ç­–ç•¥ | ç¤ºä¾‹ |
|------|---------|------|
| å°çº¢ä¹¦é“¾æ¥ | æœç´¢"ä½œè€… + æ ‡é¢˜å…³é”®è¯" | `AIä¿¡æ¯Gap Claude Code` |
| æŠ–éŸ³é“¾æ¥ | æœç´¢"ä½œè€… + æ ‡é¢˜å…³é”®è¯" | `æ¹¾ä»”ç å†œ ralph loop` |
| çŸ¥é“ä½œè€… | `å…¬ä¼—å·å å…³é”®è¯` | `AIä¿¡æ¯Gap Claude` |
| çŸ¥é“æ ‡é¢˜ | ç›´æ¥æœç´¢æ ‡é¢˜å…³é”®è¯ | `Claude Code å·¥ä½œæµ` |
| æŒ‰æ—¶é—´æ’åº | æ‰¾åˆ°æœ€æ–°å‘å¸ƒçš„æ–‡ç«  | æœç‹—æ”¯æŒæ—¶é—´ç­›é€‰ |
| æŠ€æœ¯æ–‡ç«  | ä¼˜å…ˆæœå¾®ä¿¡å…¬ä¼—å· | `site:mp.weixin.qq.com "æŠ€æœ¯å…³é”®è¯"` |

**è·¨å¹³å°æœç´¢ä¼˜å…ˆçº§**ï¼š

1. **æœç‹—å¾®ä¿¡æœç´¢**ï¼ˆæœ€æ¨èï¼‰
   - https://weixin.sogou.com/
   - è¦†ç›–æœ€å…¨
   - æ›´æ–°åŠæ—¶

2. **Google/Bing é«˜çº§æœç´¢**
   ```
   site:mp.weixin.qq.com "ä½œè€…å" "æ ‡é¢˜å…³é”®è¯"
   "ä½œè€…å" "æ ‡é¢˜å…³é”®è¯" å…¬ä¼—å·
   ```

3. **å¾®ä¿¡ APP æœä¸€æœ**
   - æœ€å‡†ç¡®
   - éœ€è¦æ‰‹åŠ¨æ“ä½œ
   - é€‚åˆéªŒè¯

4. **ç¬¬ä¸‰æ–¹èšåˆå¹³å°**
   - æ–°æ¦œï¼šhttps://www.newrank.cn/
   - æ¸…åšï¼šhttps://www.gsdata.cn/

#### 0.3 å¤‡é€‰æœç´¢æ–¹æ¡ˆ

å¦‚æœæœç‹—æœç´¢æ²¡æœ‰æ‰¾åˆ°ï¼Œå°è¯•ï¼š

1. **Google/Bing é«˜çº§æœç´¢**ï¼š
   ```
   site:mp.weixin.qq.com "å…³é”®è¯"
   site:mp.weixin.qq.com "ä½œè€…å" "å…³é”®è¯"
   ```

2. **ç›´æ¥åœ¨å¾®ä¿¡ä¸­æœç´¢**ï¼š
   - æ‰“å¼€å¾®ä¿¡ APP
   - ç‚¹å‡»"æœä¸€æœ"
   - è¾“å…¥å…³é”®è¯
   - é€‰æ‹©"æ–‡ç« "åˆ†ç±»

3. **å…¶ä»–æ–‡å­—å‹å¥½çš„å¹³å°**ï¼š
   - ä¸ªäººåšå®¢/å®˜ç½‘
   - Medium/Dev.toï¼ˆè‹±æ–‡ï¼‰
   - çŸ¥ä¹/ç®€ä¹¦
   - Medium/Dev.toï¼ˆè‹±æ–‡æŠ€æœ¯æ–‡ç« ï¼‰
   - çŸ¥ä¹ã€ç®€ä¹¦ç­‰

#### 0.4 ä½•æ—¶ä½¿ç”¨å°çº¢ä¹¦æµç¨‹

åªæœ‰åœ¨ä»¥ä¸‹æƒ…å†µæ‰ä½¿ç”¨å°çº¢ä¹¦æå–æµç¨‹ï¼š
- âŒ å¾®ä¿¡å…¬ä¼—å·æ²¡æœ‰è¯¥æ–‡ç« 
- âŒ å…¶ä»–å¹³å°ä¹Ÿæ²¡æœ‰å®Œæ•´ç‰ˆæœ¬
- âœ… ç”¨æˆ·æ˜ç¡®è¦æ±‚ä»å°çº¢ä¹¦æå–
- âœ… å†…å®¹æ˜¯å°çº¢ä¹¦åŸåˆ›ï¼ˆå¦‚ç‹¬å®¶å›¾æ–‡/è§†é¢‘ç¬”è®°ï¼‰

#### 0.5 å°çº¢ä¹¦è®¿é—®ç»•è¿‡æ–¹æ³•

**é—®é¢˜**ï¼šç›´æ¥è®¿é—®å°çº¢ä¹¦é“¾æ¥ç»å¸¸è¢«å°é”ï¼ˆ404, error_code=300031ï¼‰

**è§£å†³æ–¹æ¡ˆ**ï¼šé€šè¿‡é¦–é¡µæœç´¢ç»“æœè®¿é—®ï¼ˆè‡ªåŠ¨æ·»åŠ  xsec_tokenï¼‰

```bash
# æ­¥éª¤ 1ï¼šè®¿é—®å°çº¢ä¹¦é¦–é¡µ
navigate_page -> https://www.xiaohongshu.com/

# æ­¥éª¤ 2ï¼šä½¿ç”¨æœç´¢æ¡†æœç´¢
fill -> æœç´¢æ¡†
value: "<ä½œè€…å> <æ ‡é¢˜å…³é”®è¯>"

# æ­¥éª¤ 3ï¼šæŒ‰ Enter æ‰§è¡Œæœç´¢
press_key -> "Enter"

# æ­¥éª¤ 4ï¼šä»æœç´¢ç»“æœä¸­ç‚¹å‡»ç›®æ ‡æ–‡ç« 
click -> <æ–‡ç« æ ‡é¢˜é“¾æ¥>

# æ­¥éª¤ 5ï¼šé¡µé¢ä¼šè‡ªåŠ¨åŒ…å« xsec_token å‚æ•°ï¼ŒæˆåŠŸè®¿é—®
```

**å…³é”®åŸç†**ï¼š
- ç›´æ¥è®¿é—®ï¼š`https://www.xiaohongshu.com/explore/69698507000000001a0335b1` âŒ è¢«å°é”
- æœç´¢è®¿é—®ï¼š`https://www.xiaohongshu.com/explore/69698507000000001a0335b1?xsec_token=xxx&xsec_source=pc_search` âœ… æˆåŠŸ

**URL å‚æ•°è¯´æ˜**ï¼š
- `xsec_token`: å°çº¢ä¹¦å®‰å…¨ä»¤ç‰Œï¼Œé€šè¿‡æœç´¢ç»“æœé¡µé¢è‡ªåŠ¨ç”Ÿæˆ
- `xsec_source`: æ¥æºæ ‡è¯†ï¼ˆå¦‚ `pc_search`ï¼‰

**æå–æµç¨‹è°ƒæ•´**ï¼š
1. ä¼˜å…ˆå°è¯•é€šè¿‡é¦–é¡µæœç´¢æ‰¾åˆ°ç›®æ ‡æ–‡ç« 
2. ç‚¹å‡»æœç´¢ç»“æœé“¾æ¥ï¼ˆè‡ªåŠ¨å¸¦ tokenï¼‰
3. å¦‚æœæœç´¢æœªæ‰¾åˆ°ï¼Œå†å°è¯•ç›´æ¥è®¿é—®åŸå§‹é“¾æ¥
4. å¦‚æœä»ç„¶è¢«å°é”ï¼Œå»ºè®®å¯»æ‰¾å…¶ä»–å¹³å°çš„ç‰ˆæœ¬

---

## å†…å®¹ç±»å‹è¯†åˆ«

åœ¨å¼€å§‹æå–å‰ï¼Œå…ˆåˆ¤æ–­å†…å®¹ç±»å‹ï¼š

- **å›¾æ–‡ç¬”è®°**ï¼šURL ä¸­ä¸å« `type` å‚æ•°æˆ– `type=image`ï¼Œé¡µé¢åŒ…å«å¤šå¼ å›¾ç‰‡
- **è§†é¢‘ç¬”è®°**ï¼šURL ä¸­åŒ…å« `type=video`ï¼Œé¡µé¢åŒ…å«è§†é¢‘æ’­æ”¾å™¨

## å·¥ä½œæµç¨‹

### 1. å†…å®¹æå–

#### 1.1 å›¾æ–‡ç¬”è®°

**æ­¥éª¤1ï¼šè·å–å›¾ç‰‡URL**
- ä½¿ç”¨ `take_snapshot` è·å–é¡µé¢æ–‡æœ¬ï¼ˆæ ‡é¢˜ã€ä½œè€…ã€æ ‡ç­¾ç­‰ï¼‰
- ä» snapshot ä¸­æ‰¾åˆ°å›¾ç‰‡å…ƒç´ çš„ URL
- ä½¿ç”¨ JavaScript è·å–æ‰€æœ‰å›¾ç‰‡ URLï¼š
  ```javascript
  // è·å–æ‰€æœ‰å›¾ç‰‡URL
  const slides = Array.from(document.querySelectorAll('.swiper-slide img, [class*="slide"] img'));
  const imageUrls = slides
    .map(img => img.src)
    .filter(src => src.includes('sns-webpic') && (src.includes('spectrum') || src.includes('notes_pre_post')))
    .filter((v, i, a) => a.indexOf(v) === i);
  imageUrls
  ```

**æ­¥éª¤2ï¼šç¼“å­˜å›¾ç‰‡URL**
- ä½¿ç”¨ `scripts/cache_image_urls.sh` ç¼“å­˜å›¾ç‰‡ URL åˆ—è¡¨ï¼š
  ```bash
  # æ£€æŸ¥æ˜¯å¦æœ‰ç¼“å­˜
  CACHED_URLS=$(.claude/skills/xiaohongshu-parser/scripts/cache_image_urls.sh \
    "<æ–‡ç« URL>" "get")

  if [ $? -eq 0 ]; then
    # ä½¿ç”¨ç¼“å­˜çš„ URL
    IMAGE_URLS=($CACHED_URLS)
    echo "ä½¿ç”¨ç¼“å­˜çš„ ${#IMAGE_URLS[@]} ä¸ªå›¾ç‰‡ URL"
  else
    # ä»é¡µé¢æå– URL å¹¶ä¿å­˜åˆ°ç¼“å­˜
    # å‡è®¾ IMAGE_URLS æ˜¯ä» JavaScript æå–çš„æ•°ç»„
    .claude/skills/xiaohongshu-parser/scripts/cache_image_urls.sh \
      "<æ–‡ç« URL>" "save" "${IMAGE_URLS[@]}"
  fi
  ```
- **ç¼“å­˜æœºåˆ¶**ï¼šåŸºäºæ–‡ç«  URL çš„ MD5 å“ˆå¸Œç”Ÿæˆç¼“å­˜æ–‡ä»¶
  - ç›¸åŒæ–‡ç« ä¸ä¼šé‡å¤æå– URL
  - è·¨ä»»åŠ¡ã€è·¨ä¼šè¯å…±äº«ç¼“å­˜
  - ç¼“å­˜ä½ç½®ï¼šé¡¹ç›®ç›®å½• `.cache/xiaohongshu/{hash}_image_urls.txt`
  - å·²åœ¨ `.gitignore` ä¸­ï¼Œä¸ä¼šè¢«æäº¤åˆ° git

**æ­¥éª¤3ï¼šå›¾ç‰‡æ–‡å­—æå–**
- ä½¿ç”¨ `mcp__4_5v_mcp__analyze_image` åˆ†æå›¾ç‰‡ï¼ˆä½¿ç”¨åŸå§‹ URLï¼‰
- æç¤ºè¯ï¼š`"Extract all text content from this image, preserving the original structure and formatting. Be thorough and complete."`
- é€ä¸ªå¤„ç†æ‰€æœ‰å›¾ç‰‡ URL
- **é˜²çˆ¬æ³¨æ„äº‹é¡¹**ï¼šå¦‚æœé‡åˆ° 403 é”™è¯¯æˆ–è®¿é—®å¤±è´¥ï¼Œå¯èƒ½éœ€è¦ï¼š
  - ä½¿ç”¨ `take_screenshot` å·¥å…·æˆªå–é¡µé¢å›¾ç‰‡ï¼Œç„¶åè¿›è¡Œ OCR
  - æˆ–è€…ç­‰å¾…ä¸€æ®µæ—¶é—´åé‡è¯•

**å…³é”®è¦ç‚¹**ï¼š
- æ ¸å¿ƒå†…å®¹é€šå¸¸åœ¨å›¾ç‰‡ä¸­ï¼Œä¸æ˜¯ HTML æ–‡æœ¬
- ç¼“å­˜å›¾ç‰‡ URL å¯ä»¥é¿å…é‡å¤æå–ï¼Œæé«˜æ•ˆç‡
- å°çº¢ä¹¦æœ‰é˜²çˆ¬æœºåˆ¶ï¼Œå¦‚æœç›´æ¥è®¿é—®å›¾ç‰‡ URL å¤±è´¥ï¼Œä½¿ç”¨æˆªå›¾æ–¹å¼
- å›¾ç‰‡å†…å®¹è¦å®Œæ•´æå–ï¼Œä¿ç•™åŸæ–‡ç»“æ„

#### 1.2 è§†é¢‘ç¬”è®°

**æ­¥éª¤1ï¼šè·å–è§†é¢‘URLå’Œæ–‡æœ¬å†…å®¹**
- ä½¿ç”¨ `take_snapshot` è·å–æ ‡é¢˜ã€ä½œè€…ã€æè¿°ã€æ ‡ç­¾ç­‰æ–‡æœ¬ä¿¡æ¯
- å¯¼èˆªåˆ°å°çº¢ä¹¦è§†é¢‘é¡µé¢
- ä½¿ç”¨ `list_network_requests` ç›‘å¬ç½‘ç»œè¯·æ±‚ï¼ˆè¿‡æ»¤ `media`ã€`xhr`ã€`fetch` ç±»å‹ï¼‰
- æŸ¥æ‰¾ä»¥ `sns-video-al.xhscdn.com` æˆ– `sns-video-hw.xhscdn.com` å¼€å¤´çš„ MP4 è¯·æ±‚
- ä½¿ç”¨ `get_network_request` è·å–è¯¦ç»†ä¿¡æ¯å¹¶æå–è§†é¢‘ URL

**æ­¥éª¤2ï¼šç¼“å­˜è§†é¢‘URL**
- ä½¿ç”¨ `scripts/cache_image_urls.sh` ç¼“å­˜è§†é¢‘ URLï¼ˆå¤ç”¨åŒä¸€ä¸ªè„šæœ¬ï¼‰ï¼š
  ```bash
  # ä¿å­˜è§†é¢‘ URL åˆ°ç¼“å­˜
  .claude/skills/xiaohongshu-parser/scripts/cache_image_urls.sh \
    "<æ–‡ç« URL>" "save" "<è§†é¢‘URL>"

  # æˆ–æ£€æŸ¥ç¼“å­˜
  CACHED_URL=$(.claude/skills/xiaohongshu-parser/scripts/cache_image_urls.sh \
    "<æ–‡ç« URL>" "get")
  ```
- **ç¼“å­˜æœºåˆ¶**ï¼šåŸºäºæ–‡ç«  URL çš„ MD5 å“ˆå¸Œç”Ÿæˆç¼“å­˜æ–‡ä»¶
  - ç›¸åŒæ–‡ç« ä¸ä¼šé‡å¤æå– URL
  - è·¨ä»»åŠ¡ã€è·¨ä¼šè¯å…±äº«ç¼“å­˜
  - ç¼“å­˜ä½ç½®ï¼šé¡¹ç›®ç›®å½• `.cache/xiaohongshu/{hash}_image_urls.txt`
  - å·²åœ¨ `.gitignore` ä¸­ï¼Œä¸ä¼šè¢«æäº¤åˆ° git

**å…³é”®è¦ç‚¹**ï¼š
- è§†é¢‘ä½¿ç”¨ blob URLï¼Œå¿…é¡»é€šè¿‡ç›‘å¬ç½‘ç»œè¯·æ±‚è·å–çœŸå® URL
- è§†é¢‘ç¬”è®°çš„ä¸»è¦å†…å®¹é€šå¸¸åœ¨æ–‡æœ¬ä¿¡æ¯ä¸­ï¼ˆæ ‡é¢˜ã€ä½œè€…ã€æè¿°ã€æ ‡ç­¾ï¼‰
- ç¼“å­˜è§†é¢‘ URL å¯ä»¥é¿å…é‡å¤æå–ï¼Œæé«˜æ•ˆç‡
- å…ƒæ•°æ®ä¸­è®°å½•è§†é¢‘ URL ä¾›åç»­æŸ¥çœ‹æˆ–ä¸‹è½½

### 1.5 éªŒè¯ç¯èŠ‚ï¼ˆValidationï¼‰â­ é‡è¦

**ç›®çš„**ï¼šåœ¨å†…å®¹æ•´ç†ä¹‹å‰ï¼Œå¯¹ç…§åŸæ–‡éªŒè¯æå–ç»“æœçš„å®Œæ•´æ€§å’Œå‡†ç¡®æ€§ï¼ŒåŠæ—¶å‘ç°å¹¶ä¿®å¤é—®é¢˜ã€‚

#### éªŒè¯æµç¨‹ï¼ˆä¸‰æ­¥èµ°ï¼‰

```
æå–å†…å®¹ â†’ è‡ªåŠ¨éªŒè¯ â†’ å‘ç°é—®é¢˜ â†’ ä¿®å¤é—®é¢˜ â†’ é‡æ–°éªŒè¯ â†’ å®Œæˆ
```

#### æ­¥éª¤1ï¼šè‡ªåŠ¨éªŒè¯æ£€æŸ¥æ¸…å•

**A. åŸºç¡€ä¿¡æ¯éªŒè¯**

```javascript
// æ£€æŸ¥æ ‡é¢˜ã€ä½œè€…ã€å‘å¸ƒæ—¶é—´æ˜¯å¦å®Œæ•´
const validation = {
  hasTitle: articleContent.includes('## ') || articleContent.includes('# '),
  hasSource: articleContent.includes('> æ¥æºï¼š'),
  hasAuthor: articleContent.includes('ä½œè€…') || articleContent.includes('åŸåˆ›'),
  hasDate: articleContent.match(/\d{4}å¹´\d{1,2}æœˆ/),
};
```

**æ£€æŸ¥é¡¹**ï¼š
- [ ] æ ‡é¢˜æ˜¯å¦æå–ï¼ˆä¸€çº§æ ‡é¢˜ï¼‰
- [ ] æ¥æºä¿¡æ¯æ˜¯å¦å®Œæ•´ï¼ˆå¹³å°ã€ä½œè€…ã€æ—¶é—´ï¼‰
- [ ] åŸæ–‡é“¾æ¥æ˜¯å¦åŒ…å«

**B. ç« èŠ‚å®Œæ•´æ€§éªŒè¯**

```javascript
// æ£€æŸ¥ç« èŠ‚æ˜¯å¦å®Œæ•´ï¼ˆä»¥å¾®ä¿¡å…¬ä¼—å·ä¸ºä¾‹ï¼‰
const sections = articleContent.match(/## \d+ï½œ.+/g);
const expectedSectionCount = 9; // æ ¹æ®åŸæ–‡é¢„æœŸç« èŠ‚æ•°

console.log(`æå–ç« èŠ‚æ•°: ${sections?.length || 0}ï¼Œé¢„æœŸ: ${expectedSectionCount}`);
```

**æ£€æŸ¥é¡¹**ï¼š
- [ ] ç« èŠ‚æ•°é‡æ˜¯å¦åˆç†ï¼ˆä¸åº”çªç„¶ä¸­æ–­ï¼‰
- [ ] ç« èŠ‚ç¼–å·æ˜¯å¦è¿ç»­ï¼ˆ01, 02, 03...ï¼‰
- [ ] æ˜¯å¦æœ‰æˆªæ–­ç—•è¿¹ï¼ˆå¦‚ï¼šæ®µè½çªç„¶ç»“æŸï¼‰

**C. å›¾ç‰‡å®Œæ•´æ€§éªŒè¯**

```javascript
// æ£€æŸ¥å›¾ç‰‡å¼•ç”¨æ˜¯å¦æ­£ç¡®
const imageRefs = articleContent.match(/!\[.*\]\(\.\/images\/.+\)/g) || [];
const imageFiles = getImageFilesInDirectory(); // è¯»å– images/ ç›®å½•

console.log(`Markdownå¼•ç”¨å›¾ç‰‡: ${imageRefs.length}ï¼Œå®é™…å›¾ç‰‡æ–‡ä»¶: ${imageFiles.length}`);
```

**æ£€æŸ¥é¡¹**ï¼š
- [ ] Markdown ä¸­çš„å›¾ç‰‡å¼•ç”¨æ•°é‡æ˜¯å¦ä¸å®é™…æ–‡ä»¶æ•°é‡ä¸€è‡´
- [ ] å›¾ç‰‡æ–‡ä»¶æ˜¯å¦å­˜åœ¨ï¼ˆæ£€æŸ¥ `./images/xxx.jpg`ï¼‰
- [ ] å›¾ç‰‡å‘½åæ˜¯å¦è§„èŒƒï¼ˆæ˜¯å¦æœ‰ `image_1_boris_cherny.png` è¿™æ ·çš„ä¸´æ—¶å‘½åï¼‰
- [ ] æ˜¯å¦æœ‰æ–­å¼€çš„å›¾ç‰‡é“¾æ¥ï¼ˆ404ï¼‰

**D. å¹¿å‘Šå›¾ç‰‡æ£€æµ‹**

```javascript
// æ£€æµ‹æ–‡ç« æœ«å°¾å¯èƒ½çš„å¹¿å‘Šå›¾ç‰‡
const lines = articleContent.split('\n');
let foundAdImage = false;
let inConclusion = false;

for (let i = 0; i < lines.length; i++) {
  const line = lines[i];
  if (line.includes('## ç»“è¯­') || line.includes('## ç»“å°¾')) {
    inConclusion = true;
  }
  if (inConclusion && line.match(/!\[.*\]\(\.\/images\/.+\)/)) {
    // ç»“è¯­ä¹‹åè¿˜æœ‰å›¾ç‰‡ï¼Œå¯èƒ½æ˜¯å¹¿å‘Š
    foundAdImage = true;
    console.warn(`å‘ç°å¯èƒ½çš„å¹¿å‘Šå›¾ç‰‡ï¼ˆç¬¬${i+1}è¡Œï¼‰: ${line}`);
  }
}
```

**æ£€æŸ¥é¡¹**ï¼š
- [ ] "ç»“è¯­"ã€"å…³äºä½œè€…" ä¹‹åæ˜¯å¦è¿˜æœ‰å›¾ç‰‡
- [ ] å€’æ•°ç¬¬äºŒä¸ªç« èŠ‚ä¹‹åçš„å›¾ç‰‡æ˜¯å¦ä¸ºå¹¿å‘Š
- [ ] å›¾ç‰‡ä¸Šä¸‹æ–‡æ˜¯å¦æœ‰é“¾æ¥åˆ°å…¶ä»–æ–‡ç« 

**E. æ–‡å­—å†…å®¹å®Œæ•´æ€§éªŒè¯**

```javascript
// æ£€æŸ¥å¯èƒ½çš„æˆªæ–­
const lastLines = lines.slice(-10).join('\n');
const truncationPatterns = [
  /â€¦+$/,           // çœç•¥å·ç»“å°¾
  /\[æœªå®Œ\]$/,      // [æœªå®Œ]
  /å¾…ç»­$/,          // å¾…ç»­
  /\[å…¨æ–‡å®Œ\]/,     // [å…¨æ–‡å®Œ]
];

const mightBeTruncated = truncationPatterns.some(p => p.test(lastLines));
```

**æ£€æŸ¥é¡¹**ï¼š
- [ ] æ–‡ç« ç»“å°¾æ˜¯å¦å®Œæ•´ï¼ˆæ˜¯å¦æœ‰"æœªå®Œå¾…ç»­"ç­‰ï¼‰
- [ ] æœ€åä¸€æ®µæ˜¯å¦çªç„¶ä¸­æ–­
- [ ] æ˜¯å¦æœ‰æ˜æ˜¾çš„æˆªæ–­æ ‡è®°

**F. æ ¼å¼éªŒè¯**

```javascript
// æ£€æŸ¥ Markdown æ ¼å¼é—®é¢˜
const formatIssues = [];

// æ£€æŸ¥ä»£ç å—æ˜¯å¦é—­åˆ
const codeBlocks = articleContent.match(/```/g);
if (codeBlocks && codeBlocks.length % 2 !== 0) {
  formatIssues.push('ä»£ç å—æœªé—­åˆ');
}

// æ£€æŸ¥å¼•ç”¨å—æ ¼å¼
const quoteMarks = articleContent.match(/^> /gm);
if (quoteMarks && quoteMarks.length > 50) {
  formatIssues.push('å¼•ç”¨å—å¯èƒ½è¿‡é•¿ï¼ˆæ˜¯å¦è¯¯å°†æ­£æ–‡å½“ä½œå¼•ç”¨ï¼Ÿï¼‰');
}
```

**æ£€æŸ¥é¡¹**ï¼š
- [ ] ä»£ç å—æ˜¯å¦é—­åˆï¼ˆ``` æˆå¯¹å‡ºç°ï¼‰
- [ ] å¼•ç”¨å—æ ¼å¼æ˜¯å¦æ­£ç¡®
- [ ] æ ‡é¢˜å±‚çº§æ˜¯å¦åˆç†ï¼ˆ# ## ### ä½¿ç”¨æ­£ç¡®ï¼‰

#### æ­¥éª¤2ï¼šå‘ç°é—®é¢˜æ—¶è‡ªåŠ¨ä¿®å¤

**é—®é¢˜1ï¼šå›¾ç‰‡ä¸å®Œæ•´**
```javascript
// ä¿®å¤ï¼šé‡æ–°è§¦å‘æ‡’åŠ è½½å¹¶æå–
if (imageFiles.length < expectedImageCount) {
  console.log('âš ï¸ å›¾ç‰‡ä¸å®Œæ•´ï¼Œé‡æ–°æå–...');
  // é‡æ–°æ»šåŠ¨é¡µé¢ã€æå–å›¾ç‰‡
  await reExtractImages();
}
```

**é—®é¢˜2ï¼šç« èŠ‚æˆªæ–­**
```javascript
// ä¿®å¤ï¼šæç¤ºéœ€è¦é‡æ–°æå–æ–‡æœ¬
if (sections.length < expectedSectionCount - 2) {
  console.log('âš ï¸ ç« èŠ‚å¯èƒ½æˆªæ–­ï¼Œè¯·æ£€æŸ¥åŸæ–‡');
  // æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨é‡æ–°è·å–å¿«ç…§
}
```

**é—®é¢˜3ï¼šå¹¿å‘Šå›¾ç‰‡æœªç§»é™¤**
```javascript
// ä¿®å¤ï¼šè‡ªåŠ¨ç§»é™¤ç»“è¯­åçš„å›¾ç‰‡
if (foundAdImage) {
  console.log('âš ï¸ å‘ç°å¹¿å‘Šå›¾ç‰‡ï¼Œè‡ªåŠ¨ç§»é™¤');
  articleContent = removeAdImages(articleContent);
}
```

**é—®é¢˜4ï¼šå›¾ç‰‡å¼•ç”¨é”™è¯¯**
```javascript
// ä¿®å¤ï¼šæ›´æ–°å›¾ç‰‡è·¯å¾„
if (imageRefs.length !== imageFiles.length) {
  console.log('âš ï¸ å›¾ç‰‡å¼•ç”¨ä¸åŒ¹é…ï¼Œé‡æ–°å‘½å...');
  await renameAndUpdateImages();
}
```

#### æ­¥éª¤3ï¼šç”ŸæˆéªŒè¯æŠ¥å‘Š

```javascript
const validationReport = {
  timestamp: new Date().toISOString(),
  articleUrl: currentArticleUrl,
  summary: {
    totalChecks: 20,
    passed: 18,
    failed: 2,
    warnings: 1
  },
  details: {
    basicInfo: { status: 'pass', items: [...] },
    sections: { status: 'pass', count: 9 },
    images: { status: 'fail', expected: 8, found: 6, missing: [3, 5] },
    format: { status: 'pass', issues: [] }
  },
  recommendations: [
    'å›¾ç‰‡ #3 (ç¬¬03èŠ‚) ç¼ºå¤±ï¼Œå»ºè®®é‡æ–°æå–',
    'å›¾ç‰‡ #5 (ç¬¬05èŠ‚) ç¼ºå¤±ï¼Œå»ºè®®é‡æ–°æå–'
  ]
};
```

#### è‡ªåŠ¨åŒ–éªŒè¯è„šæœ¬ï¼ˆå‚è€ƒï¼‰

```bash
#!/bin/bash
# validate_article.sh

echo "ğŸ” å¼€å§‹éªŒè¯æ–‡ç« æå–ç»“æœ..."

ARTICLE_FILE="$1"
IMAGES_DIR="$(dirname "$ARTICLE_FILE")/images"

# 1. æ£€æŸ¥å›¾ç‰‡å¼•ç”¨
IMAGE_REFS=$(grep -o '\.\.\/images\/[^)]*' "$ARTICLE_FILE" | sort -u)
IMAGE_COUNT=$(echo "$IMAGE_REFS" | wc -l)
FILE_COUNT=$(ls "$IMAGES_DIR"/*.jpg 2>/dev/null | wc -l)

echo "ğŸ“Š å›¾ç‰‡ç»Ÿè®¡ï¼šå¼•ç”¨ $IMAGE_COUNT å¼ ï¼Œå®é™…æ–‡ä»¶ $FILE_COUNT ä¸ª"

if [ $IMAGE_COUNT -ne $FILE_COUNT ]; then
  echo "âš ï¸  å›¾ç‰‡æ•°é‡ä¸åŒ¹é…ï¼"
  echo "å¼•ç”¨çš„å›¾ç‰‡ï¼š"
  echo "$IMAGE_REFS"
  echo "å®é™…çš„æ–‡ä»¶ï¼š"
  ls "$IMAGES_DIR"
fi

# 2. æ£€æŸ¥ç« èŠ‚å®Œæ•´æ€§
SECTIONS=$(grep -c '^## ' "$ARTICLE_FILE")
echo "ğŸ“š ç« èŠ‚æ•°ï¼š$SECTIONS"

# 3. æ£€æŸ¥åŸºç¡€ä¿¡æ¯
echo "ğŸ“ åŸºç¡€ä¿¡æ¯æ£€æŸ¥ï¼š"
grep -q '^# ' "$ARTICLE_FILE" && echo "  âœ… æ ‡é¢˜" || echo "  âŒ ç¼ºå°‘æ ‡é¢˜"
grep -q '> æ¥æºï¼š' "$ARTICLE_FILE" && echo "  âœ… æ¥æº" || echo "  âŒ ç¼ºå°‘æ¥æº"

# 4. æ£€æŸ¥æ ¼å¼
echo "ğŸ¨ æ ¼å¼æ£€æŸ¥ï¼š"
grep -c '^```$' "$ARTICLE_FILE" | awk '{if ($1 % 2 == 0) print "  âœ… ä»£ç å—é—­åˆ"; else print "  âŒ ä»£ç å—æœªé—­åˆ"}'

echo "âœ… éªŒè¯å®Œæˆ"
```

#### ä½¿ç”¨åœºæ™¯

**åœºæ™¯1ï¼šæå–å®Œæˆåè‡ªåŠ¨éªŒè¯**
```javascript
// å®Œæˆæå–åç«‹å³éªŒè¯
await extractArticleContent(url);
const validationResult = await validateArticle(content);

if (validationResult.hasErrors) {
  console.log('å‘ç°é”™è¯¯ï¼Œè‡ªåŠ¨ä¿®å¤...');
  await autoFix(validationResult.issues);
}
```

**åœºæ™¯2ï¼šç”¨æˆ·åé¦ˆé—®é¢˜æ—¶é‡æ–°éªŒè¯**
```javascript
// ç”¨æˆ·è¯´"ç¬¬3èŠ‚çš„å›¾ç‰‡æ¼äº†"
await scrollToSection(3);
const screenshot = await takeScreenshot();
if (screenshot.containsImage()) {
  await downloadImage(3);
  await updateMarkdown();
}
```

**åœºæ™¯3ï¼šæ‰¹é‡æå–æ—¶æŠ½æ£€**
```bash
# éšæœºæŠ½æ£€ 10% çš„æ–‡ç« 
for article in $(find . -name "*.md" | shuf | head -n 5); do
  ./validate_article.sh "$article"
done
```

#### éªŒè¯æœ€ä½³å®è·µ

âœ… **åº”è¯¥åšçš„**ï¼š
- æå–å®Œæˆåç«‹å³éªŒè¯
- å‘ç°é—®é¢˜ç«‹å³ä¿®å¤ï¼Œä¸è¦ç­‰ç”¨æˆ·åé¦ˆ
- ä¿ç•™éªŒè¯æŠ¥å‘Šï¼ˆè®°å½•é—®é¢˜å’Œä¿®å¤è¿‡ç¨‹ï¼‰
- å¯¹äºå¤æ‚æ–‡ç« ï¼Œé€ä¸ªç« èŠ‚æˆªå›¾å¯¹ç…§

âŒ **ä¸åº”è¯¥åšçš„**ï¼š
- ä¸è¦å‡è®¾ç¬¬ä¸€æ¬¡æå–å°±æ˜¯å®Œç¾çš„
- ä¸è¦è·³è¿‡éªŒè¯ç¯èŠ‚ç›´æ¥æäº¤
- ä¸è¦å¿½ç•¥ç”¨æˆ·çš„åé¦ˆï¼ˆå³ä½¿çœ‹èµ·æ¥æ˜¯å°é—®é¢˜ï¼‰
- ä¸è¦å®Œå…¨ä¾èµ–è‡ªåŠ¨åŒ–ï¼Œå…³é”®éƒ¨åˆ†éœ€è¦äººå·¥ç¡®è®¤

#### éªŒæŠ¥å‘Šæ¨¡æ¿

```markdown
## æ–‡ç« æå–éªŒè¯æŠ¥å‘Š

**æ–‡ç« **ï¼šBoris Cherny Claude Code å·¥ä½œæµ
**éªŒè¯æ—¶é—´**ï¼š2026-01-20 14:00
**éªŒè¯è€…**ï¼šClaude Code

### éªŒè¯ç»“æœ

âœ… **é€šè¿‡** (18/20)

| æ£€æŸ¥é¡¹ | çŠ¶æ€ | è¯´æ˜ |
|--------|------|------|
| æ ‡é¢˜ | âœ… | å·²æå– |
| æ¥æº | âœ… | å®Œæ•´ |
| ç« èŠ‚ | âœ… | 9ä¸ªç« èŠ‚å®Œæ•´ |
| å›¾ç‰‡ | âŒ | ç¼ºå°‘ç¬¬3ã€5èŠ‚å›¾ç‰‡ |
| æ ¼å¼ | âœ… | Markdownæ ¼å¼æ­£ç¡® |
| å¹¿å‘Š | âœ… | å·²ç§»é™¤ |

### å‘ç°çš„é—®é¢˜

1. **å›¾ç‰‡ä¸å®Œæ•´**ï¼šç¼ºå°‘ç¬¬03èŠ‚å’Œç¬¬05èŠ‚çš„å›¾ç‰‡
   - åŸå› ï¼šæ‡’åŠ è½½æœªè§¦å‘
   - ä¿®å¤ï¼šé‡æ–°æ»šåŠ¨é¡µé¢å¹¶ä¸‹è½½

2. **å›¾ç‰‡å‘½åä¸è§„èŒƒ**ï¼šå­˜åœ¨ `image_1_boris_cherny.png`
   - ä¿®å¤ï¼šé‡å‘½åä¸º `03_section03.jpg`

### ä¿®å¤è®°å½•

- 14:05 - é‡æ–°æå–ç¬¬03èŠ‚å›¾ç‰‡ âœ…
- 14:07 - é‡æ–°æå–ç¬¬05èŠ‚å›¾ç‰‡ âœ…
- 14:10 - æ›´æ–° Markdown å¼•ç”¨ âœ…

### æœ€ç»ˆçŠ¶æ€

âœ… æ‰€æœ‰é—®é¢˜å·²ä¿®å¤ï¼Œå¯ä»¥æäº¤
```

### 2. å†…å®¹æ•´ç†

#### 2.0 å¿ äºåŸæ–‡åŸåˆ™ï¼ˆé€‚ç”¨äºæ‰€æœ‰ç±»å‹æ–‡ç« ï¼‰

**æ ¸å¿ƒåŸåˆ™**ï¼šæ­£æ–‡éƒ¨åˆ†å¿…é¡»å¿ å®äºåŸæ–‡ï¼Œé€å¥ç¿»è¯‘ï¼Œä¸æ”¹å˜åŸæ„ã€‚

**æ­£æ–‡éƒ¨åˆ†å¿…é¡»åšåˆ°**ï¼š
- âœ… é€å¥ç¿»è¯‘ï¼Œä¿æŒåŸæ–‡çš„è¡¨è¿°æ–¹å¼
- âœ… ä¿æŒåŸæ–‡çš„ç« èŠ‚ç»“æ„å’Œé¡ºåº
- âœ… ä¿ç•™æ‰€æœ‰ä»£ç ç¤ºä¾‹ã€æŠ€æœ¯ç»†èŠ‚
- âœ… ä¸åˆ é™¤ã€ä¸æ¦‚æ‹¬ã€ä¸æ”¹å†™
- âœ… æŠ€æœ¯æœ¯è¯­ä½¿ç”¨æ ‡å‡†ç¿»è¯‘ï¼ˆå¦‚ï¼šAgent â†’ æ™ºèƒ½ä½“ï¼ŒAPI â†’ APIï¼‰

**å…è®¸æ·»åŠ çš„å†…å®¹**ï¼š
- âœ… å¼€å¤´å¯ä»¥æ·»åŠ "æ ¸å¿ƒè§‚ç‚¹"æ€»ç»“ï¼ˆç”¨åŠ ç²—æ ‡å‡ºè¦ç‚¹ï¼‰
- âœ… ç»“å°¾å¯ä»¥æ·»åŠ "æŠ€æœ¯å¯ç¤º"æˆ–"æ€»ç»“"éƒ¨åˆ†
- âœ… ä½¿ç”¨è¡¨æ ¼ã€åˆ—è¡¨ç­‰ç»“æ„åŒ–æ–¹å¼ç»„ç»‡ä¿¡æ¯ï¼ˆä½†ä¸æ”¹å˜å†…å®¹ï¼‰

**ç¦æ­¢çš„åšæ³•**ï¼š
- âŒ ä¸è¦åœ¨æ­£æ–‡ä¸­æ·»åŠ è‡ªå·±çš„è§£è¯»æˆ–è¯„è®º
- âŒ ä¸è¦åˆ å‡æˆ–æ¦‚æ‹¬æ­£æ–‡å†…å®¹
- âŒ ä¸è¦æ”¹å˜åŸæ–‡çš„ç« èŠ‚é¡ºåº
- âŒ ä¸è¦ç”¨"ç®€å•æ¥è¯´"ã€"æ¢å¥è¯è¯´"ç­‰æ”¹å†™åŸæ–‡

#### 2.1 å›¾æ–‡ç¬”è®°

å°†æå–çš„å†…å®¹æ•´ç†ä¸ºå¹²å‡€çš„ Markdown æ–‡æ¡£ï¼š

- **å»é™¤è½¬å‘è€…**ï¼šåˆ é™¤"å¤§å®¶å¥½ï¼Œæˆ‘æ˜¯XX"ã€"å…³æ³¨æˆ‘"ç­‰ä¸­é—´äººè¯„è®º
- **åˆ é™¤éæ ¸å¿ƒå†…å®¹**ï¼š
  - âŒ "å…³äºä½œè€…"éƒ¨åˆ†ï¼ˆä¸ªäººç®€ä»‹ã€èŒä½ã€å­¦å†ç­‰ï¼‰
  - âŒ "å…³æ³¨æˆ‘"ã€"ç‚¹èµ"ã€"åœ¨çœ‹"ç­‰å¼•å¯¼è¯­
  - âŒ å…¬ä¼—å·äºŒç»´ç ã€æ¨å¹¿ä¿¡æ¯
- **ä¿ç•™åŸæ–‡**ï¼šå®Œæ•´ä¿ç•™å›¾ç‰‡ä¸­çš„æ–‡å­—å†…å®¹ï¼Œä¸è¦æ€»ç»“æˆ–æ”¹å†™
  - é€æ®µè®°å½•å›¾ç‰‡ä¸­çš„æ–‡å­—
  - ä¿ç•™åŸå§‹çš„ç»“æ„å’Œå±‚çº§
  - ä¿ç•™é‡è¦çš„å¼•ç”¨ã€æ¯”å–»ã€æ¡ˆä¾‹
  - ä¸è¦ç®€åŒ–æˆ–æ¦‚æ‹¬æŠ€æœ¯ç»†èŠ‚
- **ç»“æ„åŒ–**ï¼šä½¿ç”¨ Markdown æ ‡é¢˜å±‚çº§ç»„ç»‡å†…å®¹ï¼ˆ# ## ###ï¼‰
- **å®Œæ•´å¯¹ç…§**ï¼šç¡®ä¿æ²¡æœ‰é—æ¼æ®µè½ï¼Œç‰¹åˆ«æ˜¯ç»“å°¾çš„å¼•ç”¨æˆ–æ¯”å–»

**é‡è¦åŸåˆ™**ï¼šå›¾æ–‡ç¬”è®°çš„æ ¸å¿ƒä»·å€¼åœ¨å›¾ç‰‡å†…å®¹ä¸­ï¼Œå¿…é¡»å®Œæ•´ã€å¿ å®åœ°æå–æ‰€æœ‰æ–‡å­—ï¼Œä¸è¦å› ä¸ºå†…å®¹"å¤š"æˆ–"æ‚"è€Œçœç•¥æˆ–æ€»ç»“ã€‚

#### 2.2 è§†é¢‘ç¬”è®°

**ç›®æ ‡å—ä¼—**ï¼šæŠ€æœ¯äººå‘˜ï¼Œéœ€è¦é«˜æ•ˆã€ç›´æ¥çš„æŠ€æœ¯å¹²è´§ã€‚

**å†…å®¹å–èˆåŸåˆ™**ï¼š

âœ… **ä¿ç•™**ï¼š
- æŠ€æœ¯æ ˆï¼ˆæ¡†æ¶ã€åº“ã€å·¥å…·ï¼‰
- å®ç°æµç¨‹/æ­¥éª¤
- æ ¸å¿ƒæ¦‚å¿µå’ŒæŠ€æœ¯åŸç†
- ä»£ç ç¤ºä¾‹æˆ–ä¼ªä»£ç 
- è§†é¢‘é“¾æ¥ï¼ˆè§‚çœ‹ + ä¸‹è½½ï¼‰
- æŠ€æœ¯é™åˆ¶å’Œæ³¨æ„äº‹é¡¹

âŒ **åˆ é™¤**ï¼š
- è§‚ä¼—åé¦ˆã€è¯„è®ºåŒºçš„éæŠ€æœ¯è®¨è®º
- äº’åŠ¨æ•°æ®ï¼ˆç‚¹èµã€æ”¶è—æ•°ï¼‰
- å‘å¸ƒæ—¶é—´ã€æ ‡ç­¾ç­‰éæŠ€æœ¯ä¿¡æ¯
- å­¦ä¹ å»ºè®®ã€æ¨èè¯­
- emoji å’ŒéæŠ€æœ¯åŒ–è¡¨è¿°

**è¯„è®ºåŒºä½¿ç”¨**ï¼š
- âœ… æå–ï¼šæŠ€æœ¯æ ˆã€å®ç°ç»†èŠ‚ã€ä½œè€…è¡¥å……è¯´æ˜
- âŒ å¿½ç•¥ï¼šè§‚ä¼—è¯„ä»·ã€ä½¿ç”¨ä½“éªŒã€è®¨è®ºçƒ­åº¦

**æ ‡é¢˜ä¼˜åŒ–**ï¼š
- å»æ‰ emoji
- ä½¿ç”¨æŠ€æœ¯åŒ–è¡¨è¿°
- ç¤ºä¾‹ï¼š`"æ–°æµæ´¾ï¼Vibe Animationæ•™ç¨‹å…¬å¼€ğŸ"` â†’ `"Vibe Animationï¼šAI + æ‰‹åŠ¿è¯†åˆ«çš„çŸ¢é‡åŠ¨ç”»æ–°æµæ´¾"`

**å†…å®¹æå–**ï¼š
- ä¼˜å…ˆä»è§†é¢‘å’Œæè¿°ä¸­æå–æŠ€æœ¯ä¿¡æ¯
- å¦‚æ— æ³•æå–å®Œæ•´ä»£ç /æ­¥éª¤ï¼Œæ ‡æ³¨ä¸º `pending` çŠ¶æ€
- åœ¨å…ƒæ•°æ®ä¸­è®°å½•"å¾…å®Œå–„å†…å®¹"

### 3. å®Œæ•´æ€§éªŒè¯

#### 3.1 å›¾æ–‡ç¬”è®°

å¯¹ç…§åŸå§‹ç½‘é¡µæ£€æŸ¥å†…å®¹ï¼š

- æ£€æŸ¥å¼€å¤´å’Œç»“å°¾æ˜¯å¦å®Œæ•´
- éªŒè¯å¼•ç”¨ã€æ¯”å–»æ˜¯å¦é—æ¼
- ç¡®è®¤æŠ€æœ¯è¦ç‚¹æ— ç¼ºå¤±

#### 3.2 è§†é¢‘ç¬”è®°

å¯¹ç…§åŸå§‹è§†é¢‘å’Œé¡µé¢æ£€æŸ¥ï¼š

- éªŒè¯è§†é¢‘ URL å¯è®¿é—®æ€§
- æ£€æŸ¥æ–‡å­—ä¿¡æ¯å®Œæ•´æ€§ï¼ˆæ ‡é¢˜ã€ä½œè€…ã€æè¿°ã€æ ‡ç­¾ï¼‰
- ç¡®è®¤å…ƒæ•°æ®ä¸­çš„è§†é¢‘ä¿¡æ¯å‡†ç¡®ï¼ˆæ ¼å¼ã€å¤§å°ï¼‰
- å¦‚æœè§†é¢‘åŒ…å«æ•™å­¦å†…å®¹ï¼ŒéªŒè¯å…³é”®æ­¥éª¤æ˜¯å¦å·²è®°å½•

### 4. æ–‡ä»¶å½’æ¡£

æŒ‰ç…§é¡¹ç›® CLAUDE.md ä¸­å®šä¹‰çš„ç»“æ„åˆ›å»ºæ–‡ä»¶ï¼š

```
general/YYYY-MM-DD/article-slug.md              # æ­£æ–‡ï¼ˆæœ¬åœ°ç‰ˆæœ¬ï¼‰
general/YYYY-MM-DD/article-slug-remote.md        # æ­£æ–‡ï¼ˆè¿œç¨‹ç‰ˆæœ¬ï¼Œä½¿ç”¨å›¾åºŠï¼‰
general/YYYY-MM-DD/article-slug.metadata.yaml    # å…ƒæ•°æ®ï¼ˆä¸æ­£æ–‡åŒç›®å½•ï¼‰
```

#### 4.1 åŒç‰ˆæœ¬ Markdown ç­–ç•¥

**ä¸ºä»€ä¹ˆéœ€è¦ä¸¤ä¸ªç‰ˆæœ¬ï¼Ÿ**

| ç‰ˆæœ¬ | æ–‡ä»¶å | å›¾ç‰‡è·¯å¾„ | ä½¿ç”¨åœºæ™¯ |
|------|--------|---------|---------|
| **æœ¬åœ°ç‰ˆæœ¬** | `article-slug.md` | `./images/xxx.jpg` | æœ¬åœ°é¢„è§ˆã€ç¦»çº¿æŸ¥çœ‹ |
| **è¿œç¨‹ç‰ˆæœ¬** | `article-slug-remote.md` | `https://cdn.jsdelivr.net/gh/...` | åˆ†äº«ã€å‘å¸ƒã€åœ¨çº¿æ–‡æ¡£ |

**æœ¬åœ°ç‰ˆæœ¬**ï¼š
- å›¾ç‰‡ä½¿ç”¨ç›¸å¯¹è·¯å¾„ï¼š`![å›¾ç‰‡](./images/00_cover.jpg)`
- ä¼˜ç‚¹ï¼šæ— ç½‘ç»œæ—¶ä¹Ÿèƒ½é¢„è§ˆï¼ŒåŠ è½½é€Ÿåº¦å¿«
- ç¼ºç‚¹ï¼šä¸èƒ½åˆ†äº«ç»™åˆ«äººï¼ˆå›¾ç‰‡æ˜¯æœ¬åœ°çš„ï¼‰
- é€‚ç”¨ï¼šä¸ªäººç¬”è®°ã€æœ¬åœ°å½’æ¡£

**è¿œç¨‹ç‰ˆæœ¬**ï¼š
- å›¾ç‰‡ä½¿ç”¨ CDN URLï¼š`![å›¾ç‰‡](https://cdn.jsdelivr.net/gh/...)`
- ä¼˜ç‚¹ï¼šå¯ä»¥åˆ†äº«ï¼Œä»»ä½•äººéƒ½èƒ½çœ‹åˆ°å›¾ç‰‡
- ç¼ºç‚¹ï¼šéœ€è¦ç½‘ç»œè¿æ¥
- é€‚ç”¨ï¼šå‘å¸ƒåˆ°åšå®¢ã€åˆ†äº«ç»™ä»–äººã€åœ¨çº¿æ–‡æ¡£

#### 4.2 ç”ŸæˆåŒç‰ˆæœ¬çš„å·¥ä½œæµç¨‹

**æ­¥éª¤ 1ï¼šä¸Šä¼ å›¾ç‰‡åˆ°å›¾åºŠ**

```bash
# å‡è®¾å·²æå–å¾®ä¿¡å›¾ç‰‡ URL
IMAGE_URLS=(
  "https://mmbiz.qpic.cn/xxx.jpg"
  "https://mmbiz.qpic.cn/yyy.jpg"
)

# ä¸Šä¼ å¹¶è®°å½• CDN URL
declare -A CDN_MAP
for i in "${!IMAGE_URLS[@]}"; do
  CDN_URL=$(python3 upload_to_github.py "${IMAGE_URLS[$i]}" wechat)
  CDN_MAP[$i]=$CDN_URL
  echo "å›¾ç‰‡ $i: $CDN_URL"
done
```

**æ­¥éª¤ 2ï¼šç”Ÿæˆæœ¬åœ°ç‰ˆæœ¬**

```markdown
# Claude Code ä¹‹çˆ¶çš„å·¥ä½œæµç«äº†ï¼š740 ä¸‡å›´è§‚çš„èƒŒå

![Boris Cherny åœ¨ X ä¸Šåˆ†äº«](./images/00_cover.jpg)

## 01ï½œ15 ä¸ª Claude å¹¶è¡Œ

![å·¥ä½œæµæˆªå›¾](./images/01_section01.jpg)
```

**æ­¥éª¤ 3ï¼šç”Ÿæˆè¿œç¨‹ç‰ˆæœ¬**

```bash
# åˆ›å»ºè¿œç¨‹ç‰ˆæœ¬ï¼ˆæ›¿æ¢å›¾ç‰‡è·¯å¾„ï¼‰
sed 's|\./images/|https://cdn.jsdelivr.net/gh/maxzyma/articleread/assets/images/wechat/2026-01/|g' \
  article-slug.md > article-slug-remote.md
```

æˆ–ä½¿ç”¨ Python è„šæœ¬ï¼š

```python
def generate_remote_version(content, cdn_base_url):
    """ç”Ÿæˆè¿œç¨‹ç‰ˆæœ¬"""
    import re

    # æ›¿æ¢æœ¬åœ°å›¾ç‰‡è·¯å¾„ä¸º CDN URL
    pattern = r'\(\.\/images\/([^)]+)\)'

    def replace_with_cdn(match):
        filename = match.group(1)
        return f'({cdn_base_url}/{filename})'

    return re.sub(pattern, replace_with_cdn, content)

# ä½¿ç”¨ç¤ºä¾‹
with open('article-slug.md', 'r') as f:
    local_content = f.read()

remote_content = generate_remote_version(
    local_content,
    'https://cdn.jsdelivr.net/gh/maxzyma/articleread/assets/images/wechat/2026-01'
)

with open('article-slug-remote.md', 'w') as f:
    f.write(remote_content)
```

#### 4.3 æ–‡ä»¶ç»„ç»‡ç¤ºä¾‹

```
general/boris-claude-code-workflow/
â”œâ”€â”€ boris-claude-code-workflow.md              # æœ¬åœ°ç‰ˆæœ¬ï¼ˆä¸»è¦æ–‡ä»¶ï¼‰
â”œâ”€â”€ boris-claude-code-workflow-remote.md        # è¿œç¨‹ç‰ˆæœ¬ï¼ˆå¯åˆ†äº«ï¼‰
â”œâ”€â”€ boris-claude-code-workflow.metadata.yaml    # å…ƒæ•°æ®
â””â”€â”€ images/                                     # æœ¬åœ°å›¾ç‰‡ï¼ˆå¯é€‰ï¼‰
    â”œâ”€â”€ 00_cover.jpg
    â”œâ”€â”€ 01_section01.jpg
    â””â”€â”€ ...
```

#### 4.4 æ¨èçš„ Git ç­–ç•¥

**é‡è¦**ï¼šç”±äº sandbox ç¯å¢ƒçš„ç½‘ç»œé™åˆ¶ï¼Œä»¥ä¸‹æ­¥éª¤åªæ‰§è¡Œ `git add` å’Œ `git commit`ã€‚æœ€åä¸€æ­¥ `git push` éœ€è¦ä½ åœ¨ç»ˆç«¯ä¸­æ‰‹åŠ¨æ‰§è¡Œã€‚

```bash
# å®Œæˆæœ¬åœ°æäº¤åï¼Œåœ¨ç»ˆç«¯ä¸­æ‰§è¡Œï¼š
git push origin main
```

**æ–¹æ¡ˆ Aï¼šåªæäº¤è¿œç¨‹ç‰ˆæœ¬**ï¼ˆæ¨èï¼‰

```bash
# .gitignore
general/*/images/
general/*-remote.md

# åªæäº¤æœ¬åœ°ç‰ˆæœ¬ï¼ˆä½¿ç”¨æœ¬åœ°å›¾ç‰‡ï¼‰
git add article-slug.md
git commit -m "Add article"

# è¿œç¨‹ç‰ˆæœ¬æŒ‰éœ€ç”Ÿæˆï¼Œä¸æäº¤åˆ° git
# æˆ–è€…å•ç‹¬æäº¤åˆ° gh-pages åˆ†æ”¯
```

**æ–¹æ¡ˆ Bï¼šåŒç‰ˆæœ¬éƒ½æäº¤**

```bash
# æäº¤æ‰€æœ‰æ–‡ä»¶
git add article-slug.md article-slug-remote.md
git commit -m "Add article (local + remote versions)"
```

**æ–¹æ¡ˆ Cï¼šä½¿ç”¨ä¸åŒçš„åˆ†æ”¯**

```bash
# main åˆ†æ”¯ï¼šæœ¬åœ°ç‰ˆæœ¬
git checkout main
git add article-slug.md
git commit -m "Add article"

# gh-pages åˆ†æ”¯ï¼šè¿œç¨‹ç‰ˆæœ¬ï¼ˆç”¨äº GitHub Pagesï¼‰
git checkout gh-pages
git add article-slug-remote.md
git commit -m "Add remote version for GitHub Pages"
```

#### 4.5 è‡ªåŠ¨åŒ–è„šæœ¬ç¤ºä¾‹

åˆ›å»º `scripts/generate_dual_version.sh`ï¼š

```bash
#!/bin/bash
#!/bin/bash
# ç”ŸæˆåŒç‰ˆæœ¬ Markdown æ–‡ä»¶

ARTICLE_FILE="$1"
CDN_BASE_URL="$2"  # https://cdn.jsdelivr.net/gh/user/repo/assets/images/platform/YYYY-MM

if [ -z "$ARTICLE_FILE" ]; then
  echo "Usage: $0 <article.md> [cdn_base_url]"
  exit 1
fi

# æå–æ–‡ä»¶åï¼ˆä¸å«æ‰©å±•åï¼‰
BASE_NAME="${ARTICLE_FILE%.md}"

# ç”Ÿæˆè¿œç¨‹ç‰ˆæœ¬
echo "ç”Ÿæˆè¿œç¨‹ç‰ˆæœ¬: ${BASE_NAME}-remote.md"
sed 's|(\./images/|('"$CDN_BASE_URL"'/|g' "$ARTICLE_FILE" > "${BASE_NAME}-remote.md"

echo "âœ… åŒç‰ˆæœ¬ç”Ÿæˆå®Œæˆï¼š"
echo "  æœ¬åœ°ç‰ˆæœ¬: $ARTICLE_FILE"
echo "  è¿œç¨‹ç‰ˆæœ¬: ${BASE_NAME}-remote.md"
```

ä½¿ç”¨ç¤ºä¾‹ï¼š

```bash
bash scripts/generate_dual_version.sh \
  general/boris-claude-code-workflow/boris-claude-code-workflow.md \
  "https://cdn.jsdelivr.net/gh/maxzyma/articleread/assets/images/wechat/2026-01"
```

#### 4.6 æœ€ä½³å®è·µå»ºè®®

âœ… **æ¨èåšæ³•**ï¼š
1. é»˜è®¤ä½¿ç”¨æœ¬åœ°ç‰ˆæœ¬ï¼ˆ`article-slug.md`ï¼‰ä½œä¸ºä¸»æ–‡ä»¶
2. è¿œç¨‹ç‰ˆæœ¬æŒ‰éœ€ç”Ÿæˆï¼Œä¸éœ€è¦æ—¶å¯ä¸ç”Ÿæˆ
3. ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬ç¡®ä¿ä¸¤ä¸ªç‰ˆæœ¬åŒæ­¥
4. åœ¨å…ƒæ•°æ®ä¸­è®°å½•å›¾ç‰‡çš„ CDN URL
5. å®šæœŸæ¸…ç†ä¸å†ä½¿ç”¨çš„å›¾ç‰‡

âŒ **é¿å…åšæ³•**ï¼š
1. ä¸è¦åœ¨ä¸¤ä¸ªç‰ˆæœ¬ä¸­æ‰‹åŠ¨ä¿®æ”¹å†…å®¹ï¼ˆéš¾ä»¥åŒæ­¥ï¼‰
2. ä¸è¦æäº¤ images/ ç›®å½•åˆ° gitï¼ˆæ–‡ä»¶å¤ªå¤§ï¼‰
3. ä¸è¦æ··ç”¨ä¸¤ç§å›¾ç‰‡è·¯å¾„æ ¼å¼
4. ä¸è¦å¿˜è®°æ›´æ–°è¿œç¨‹ç‰ˆæœ¬

**é‡è¦**ï¼š
- å…ƒæ•°æ®å’Œæ­£æ–‡æ”¾åœ¨åŒä¸€ç›®å½•ï¼Œä¾¿äºç®¡ç†
- æ­£æ–‡æœ«å°¾ä¿ç•™åŸä½œè€…æ¥æºè¯´æ˜
- å…ƒæ•°æ®çš„ `content_file` ä½¿ç”¨ç›¸å¯¹è·¯å¾„ `./article-slug.md`

**æ–‡ä»¶å‘½å**ï¼šä½¿ç”¨å°å†™å­—æ¯ã€è¿å­—ç¬¦ï¼ˆå¦‚ `vibe-animation-tutorial.md`ï¼‰

## èµ„æº

### scripts/

- **cache_image_urls.sh**ï¼šå›¾ç‰‡/è§†é¢‘ URL ç¼“å­˜ç®¡ç†è„šæœ¬
  - ç”¨æ³•ï¼š`./cache_image_urls.sh <æ–‡ç« URL> <action> [urls...]`
  - action: `get` (è·å–ç¼“å­˜), `save` (ä¿å­˜URL), `clear` (æ¸…é™¤ç¼“å­˜)
  - åŸºäºæ–‡ç«  URL çš„ MD5 å“ˆå¸Œç”Ÿæˆç¼“å­˜æ–‡ä»¶

### references/

- **metadata-template.yaml**ï¼šå…ƒæ•°æ®æ–‡ä»¶æ¨¡æ¿ï¼ŒåŒ…å«æ‰€æœ‰å¿…éœ€å­—æ®µ
- **workflow-guide.md**ï¼šè¯¦ç»†çš„åˆ†æ­¥å·¥ä½œæŒ‡å—å’Œå¸¸è§é—®é¢˜

### ç¤ºä¾‹

- **å›¾æ–‡ç¬”è®°**ï¼š`general/claude-code-31-tips/` - Claude Code ä½¿ç”¨æŠ€å·§
- **è§†é¢‘ç¬”è®°**ï¼š`general/2026-01-16/vibe-animation-tutorial/` - Vibe Animation æŠ€æœ¯æ•™ç¨‹

å‚è€ƒè¿™äº›ç¤ºä¾‹äº†è§£å†…å®¹ç»„ç»‡å’Œæ ¼å¼è§„èŒƒã€‚
