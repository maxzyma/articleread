# 小红书元数据提取最佳实践

## 目的

**只提取元信息用于搜索文字版本，不进行 OCR 或内容提取。**

---

## 访问方法

### 方法 A：通过搜索访问（推荐）

直接访问链接经常被封锁（404, error_code=300031），通过首页搜索更稳定：

```bash
# 1. 访问首页
navigate_page -> https://www.xiaohongshu.com/

# 2. 搜索
fill -> 搜索框
value: "<作者名或标题关键词>"

# 3. 执行搜索
press_key -> "Enter"

# 4. 点击目标文章
click -> <文章标题链接>
```

**原理**：搜索结果自动添加 `xsec_token` 参数

### 方法 B：直接访问

```bash
navigate_page -> <小红书URL>
```

---

## 元信息提取

使用 `take_snapshot` 获取页面内容，提取：

| 字段 | 位置 | 示例 |
|------|------|------|
| **标题** | 文章标题区域 | "Claude Code效率暴涨70%" |
| **作者** | 作者名称链接 | "sqb的Ai学习笔记" |
| **发布时间** | 时间戳 | "2025-12-23" |
| **标签** | #标签区域 | "#AI #AI编程" |
| **内容类型** | 图片计数/播放按钮 | 图文笔记 / 视频笔记 |

---

## 内容类型识别

| 类型 | 特征 |
|------|------|
| **图文笔记** | 显示 "1/N" 图片计数 |
| **视频笔记** | 有播放按钮、时长显示 |

---

## 元数据归档格式

当搜索不到文字版本时，只保存元数据：

```yaml
---
title: "文章标题"
extraction_date: "YYYY-MM-DD"
source:
  platform: "小红书"
  url: "原始URL"
  author: "作者名"
  publish_date: "YYYY-MM-DD"
  content_type: "图文笔记/视频笔记"
  tags: ["标签1", "标签2"]
status: "metadata_only"
note: "未找到文字版本，仅保存元数据"
---
```

---

## 注意事项

- ❌ 不要进行 OCR 或内容提取
- ❌ 不要下载图片或视频
- ✅ 只提取元信息用于搜索
- ✅ 元信息提取完成后立即搜索文字平台
