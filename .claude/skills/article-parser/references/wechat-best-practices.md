## ä¼˜å…ˆçº§åŸåˆ™ï¼šå¾®ä¿¡å…¬ä¼—å· > å°çº¢ä¹¦

**é‡è¦**ï¼šåœ¨æå–ä»»ä½•æ–‡ç« å‰ï¼Œä¼˜å…ˆæ£€æŸ¥æ˜¯å¦æœ‰å¾®ä¿¡å…¬ä¼—å·ç‰ˆæœ¬ï¼ŒåŸå› ï¼š

| ç‰¹æ€§ | å¾®ä¿¡å…¬ä¼—å· | å°çº¢ä¹¦ |
|------|-----------|--------|
| å†…å®¹æ ¼å¼ | çº¯æ–‡æœ¬/HTML | å›¾ç‰‡ |
| æå–éš¾åº¦ | â­ ç®€å• | â­â­â­â­ å¤æ‚ |
| å‡†ç¡®æ€§ | âœ… 100% | âš ï¸ ä¾èµ–OCR |
| é€Ÿåº¦ | âš¡ å¿«é€Ÿ | ğŸŒ éœ€è¦å¤šæ­¥å¤„ç† |
| å®Œæ•´æ€§ | âœ… æ— é—æ¼ | âš ï¸ å¯èƒ½é—æ¼ |

### 0. ä¼˜å…ˆæœç´¢å¾®ä¿¡å…¬ä¼—å·

#### 0.1 æœç´¢æµç¨‹

**æ­¥éª¤1ï¼šä½¿ç”¨æœç‹—å¾®ä¿¡æœç´¢**

```bash
# 1. è®¿é—®æœç‹—å¾®ä¿¡æœç´¢
navigate_page -> https://weixin.sogou.com/

# 2. å¡«å†™æœç´¢æ¡†
fill -> æœç´¢æ¡†
value: "<å…¬ä¼—å·åç§°> <æ–‡ç« å…³é”®è¯>"
# ç¤ºä¾‹ï¼šAIä¿¡æ¯Gap Claude Code

# 3. ç‚¹å‡»æœç´¢æŒ‰é’®
click -> "æœæ–‡ç« "
```

**æ­¥éª¤2ï¼šè¯†åˆ«ç›®æ ‡æ–‡ç« **

ä»æœç´¢ç»“æœä¸­æ‰¾åˆ°ç›®æ ‡æ–‡ç« ï¼Œæ£€æŸ¥ï¼š
- âœ… å…¬ä¼—å·åç§°åŒ¹é…
- âœ… æ–‡ç« æ ‡é¢˜å…³é”®è¯åŒ¹é…
- âœ… å‘å¸ƒæ—¶é—´åˆç†
- âœ… å†…å®¹æ‘˜è¦åŒ¹é…

**æ­¥éª¤3ï¼šè®¿é—®å¹¶æå–å†…å®¹**

```bash
# ç›´æ¥è®¿é—®å¾®ä¿¡å…¬ä¼—å·æ–‡ç« é“¾æ¥
navigate_page -> <å¾®ä¿¡æ–‡ç« URL>

# è·å–å®Œæ•´å†…å®¹
take_snapshot -> æå–æ‰€æœ‰æ–‡æœ¬å†…å®¹
```

**æ­¥éª¤4ï¼šæå–å¹¶ä¿å­˜å¿…è¦é…å›¾**

å¯¹äºéå›¾ç‰‡/è§†é¢‘è¯†åˆ«çš„æ–‡ç« ï¼ˆå¦‚å¾®ä¿¡å…¬ä¼—å·ï¼‰ï¼Œæå–å¹¶ä¿å­˜å¿…è¦çš„é…å›¾ï¼š

```javascript
// ä½¿ç”¨ JavaScript è·å–æ–‡ç« ä¸­çš„æ‰€æœ‰å›¾ç‰‡
const images = Array.from(document.querySelectorAll('img'));
const articleImages = images
  .map(img => ({
    url: img.src || img['data-src'],
    alt: img.alt || '',
    width: img.width || img.naturalWidth || 0,
    height: img.height || img.naturalHeight || 0
  }))
  .filter(img => img.url && (img.url.includes('mmbiz') || img.url.includes('wx_fmt')));
articleImages;
```

**åˆ¤æ–­æ˜¯å¦ä¸ºå¿…è¦é…å›¾**ï¼š

âœ… **åº”è¯¥ä¿ç•™çš„é…å›¾**ï¼š
- æŠ€æœ¯æ¶æ„å›¾ã€æµç¨‹å›¾
- ç•Œé¢æˆªå›¾ã€ä»£ç è¿è¡Œæ•ˆæœå›¾
- æ•°æ®å›¾è¡¨ã€ç»Ÿè®¡å›¾
- ç¤ºæ„å›¾ã€è¯´æ˜å›¾
- æ–‡ç« ä¸­çš„å…³é”®é…å›¾

âŒ **åº”è¯¥å¿½ç•¥çš„å›¾ç‰‡**ï¼š
- ä½œè€…å¤´åƒ
- å…¬ä¼—å·äºŒç»´ç 
- åˆ†äº«å¼•å¯¼å›¾ï¼ˆ"å…³æ³¨æˆ‘"ã€"ç‚¹èµ"ç­‰ï¼‰
- è£…é¥°æ€§å°å›¾æ ‡
- å°ºå¯¸è¿‡å°çš„å›¾ç‰‡ï¼ˆå®½åº¦ < 200pxï¼‰
- æ˜æ˜¾çš„å¹¿å‘Šå›¾ç‰‡

**åˆ¤æ–­å›¾ç‰‡å¼•ç”¨é™åˆ¶**ï¼š

æ ¹æ®å›¾ç‰‡æ¥æºåˆ¤æ–­æ˜¯å¦éœ€è¦ä¸‹è½½ï¼š

| å›¾ç‰‡æ¥æº | æ˜¯å¦å—é™ | å¤„ç†æ–¹å¼ |
|---------|---------|---------|
| `mmbiz.qpic.cn` | âœ… æœ‰é˜²ç›—é“¾ | ä¸‹è½½åˆ°æœ¬åœ° |
| `sns-*pic.xhscdn.com` | âœ… æœ‰é˜²ç›—é“¾ | ä¸‹è½½åˆ°æœ¬åœ° |
| `github.com` | âŒ æ— é™åˆ¶ | ä¿ç•™é“¾æ¥ |
| `imgur.com` | âŒ æ— é™åˆ¶ | ä¿ç•™é“¾æ¥ |
| `unsplash.com` | âŒ æ— é™åˆ¶ | ä¿ç•™é“¾æ¥ |
| CDN é“¾æ¥ï¼ˆ`cdn.*`ï¼‰ | âš ï¸ å¾…ç¡®è®¤ | å…ˆå°è¯•é“¾æ¥ |
| å…¶ä»– | âš ï¸ å¾…ç¡®è®¤ | å…ˆå°è¯•é“¾æ¥ |

**å¤„ç†é…å›¾ï¼ˆåˆ†ä¸¤ç§æƒ…å†µï¼‰**ï¼š

**æƒ…å†µ1ï¼šæ— å¼•ç”¨é™åˆ¶ - ä¿ç•™é“¾æ¥**

```markdown
## æ­£æ–‡å†…å®¹

![é…å›¾è¯´æ˜](https://example.com/image.jpg)

ç»§ç»­æ–‡æœ¬å†…å®¹...
```

**æƒ…å†µ2ï¼šæœ‰å¼•ç”¨é™åˆ¶ - ä¸‹è½½åˆ°æœ¬åœ°**

```bash
# 1. åˆ›å»ºå›¾ç‰‡ç›®å½•ï¼ˆä»…åœ¨æœ‰éœ€è¦æ—¶åˆ›å»ºï¼‰
mkdir -p general/YYYY-MM-DD/article-slug/images/

# 2. ä¸‹è½½å—é™åˆ¶çš„å›¾ç‰‡åˆ°æœ¬åœ°
for img_url in "${RESTRICTED_IMAGES[@]}"; do
  # ä½¿ç”¨ curl ä¸‹è½½ï¼Œæ·»åŠ æ­£ç¡®çš„ referer
  curl -s \
    -H "Referer: https://mp.weixin.qq.com/" \
    -H "User-Agent: Mozilla/5.0" \
    "$img_url" \
    -o "general/YYYY-MM-DD/article-slug/images/image_${index}.jpg"
done
```

**åœ¨ Markdown ä¸­å¼•ç”¨æœ¬åœ°å›¾ç‰‡**ï¼š

```markdown
## æ­£æ–‡å†…å®¹

![é…å›¾è¯´æ˜](./images/image_1.jpg)

ç»§ç»­æ–‡æœ¬å†…å®¹...
```

**å›¾ç‰‡å­˜å‚¨è§„åˆ™**ï¼š

**jsDelivr CDN æ ¼å¼è¯´æ˜**ï¼š

jsDelivr æ˜¯ä¸€ä¸ªå…è´¹çš„å…¬å…± CDNï¼Œæ”¯æŒç›´æ¥è®¿é—® GitHub ä»“åº“æ–‡ä»¶ã€‚

**URL æ ¼å¼**ï¼š
```
https://cdn.jsdelivr.net/gh/[ç”¨æˆ·å]/[ä»“åº“å]/[æ–‡ä»¶è·¯å¾„]
```

**é‡è¦**ï¼š
- âœ… æ— éœ€æŒ‡å®šåˆ†æ”¯åï¼ˆé»˜è®¤ä½¿ç”¨ä¸»åˆ†æ”¯ï¼‰
- âœ… æ–‡ä»¶è·¯å¾„æ˜¯ä»“åº“æ ¹ç›®å½•åçš„å®Œæ•´è·¯å¾„
- âœ… é¦–æ¬¡è®¿é—®åè‡ªåŠ¨ç¼“å­˜ï¼ˆ1-2åˆ†é’Ÿç”Ÿæ•ˆï¼‰

**ç¤ºä¾‹**ï¼š

å¯¹äºä»“åº“ä¸­çš„æ–‡ä»¶ `general/article-name/images/00_cover.jpg`ï¼š

```bash
# æ­£ç¡®çš„ CDN URL
https://cdn.jsdelivr.net/gh/maxzyma/articleread/general/article-name/images/00_cover.jpg

# âŒ é”™è¯¯ï¼šä¸è¦åŠ åˆ†æ”¯å
https://cdn.jsdelivr.net/gh/maxzyma/articleread/main/general/article-name/images/00_cover.jpg

# âŒ é”™è¯¯ï¼šè·¯å¾„ä¸åŒ¹é…å®é™…æ–‡ä»¶ä½ç½®
https://cdn.jsdelivr.net/gh/maxzyma/articleread/assets/images/wechat/2026-01/00_cover.jpg
```

**æ¨èç­–ç•¥ï¼ˆä¼˜å…ˆçº§ä»é«˜åˆ°ä½ï¼‰**ï¼š

| ä¼˜å…ˆçº§ | å­˜å‚¨æ–¹å¼ | é€‚ç”¨åœºæ™¯ | ä¼˜ç‚¹ | ç¼ºç‚¹ |
|--------|---------|---------|------|------|
| ğŸ¥‡ 1 | **GitHub å›¾åºŠ** | å¾®ä¿¡ã€å°çº¢ä¹¦ç­‰æœ‰é˜²ç›—é“¾çš„å›¾ç‰‡ | å…è´¹ç¨³å®šã€CDNåŠ é€Ÿã€ç‰ˆæœ¬æ§åˆ¶ | éœ€è¦é…ç½® token |
| ğŸ¥ˆ 2 | è¿œç¨‹é“¾æ¥ | GitHubã€Imgurã€Unsplash ç­‰æ— é˜²ç›—é“¾å›¾ç‰‡ | èŠ‚çœç©ºé—´ã€æ— éœ€ä¸Šä¼  | ä¾èµ–å¤–éƒ¨æœåŠ¡ |
| ğŸ¥‰ 3 | æœ¬åœ°å­˜å‚¨ | å›¾åºŠä¸Šä¼ å¤±è´¥æ—¶çš„é™çº§æ–¹æ¡ˆ | ç‹¬ç«‹ç¨³å®š | å ç”¨ç©ºé—´ã€ä¸åœ¨ç‰ˆæœ¬æ§åˆ¶ä¸­ |

**GitHub å›¾åºŠä½¿ç”¨æ–¹å¼**ï¼š

**æ–¹æ¡ˆ Aï¼šä½¿ç”¨é›†ä¸­å›¾åºŠ**ï¼ˆéœ€è¦è„šæœ¬æ”¯æŒï¼‰

```bash
# ä¸Šä¼ å•å¼ å›¾ç‰‡åˆ°é›†ä¸­å›¾åºŠç›®å½•
python3 .claude/skills/article-parser/scripts/upload_to_github.py \
  "https://mmbiz.qpic.cn/xxx.jpg" \
  wechat

# è¾“å‡ºç¤ºä¾‹: https://cdn.jsdelivr.net/gh/maxzyma/articleread/assets/images/wechat/2026-01/uuid.jpg
```

**æ–¹æ¡ˆ Bï¼šä½¿ç”¨æ–‡ç« ç›®å½•**ï¼ˆæ¨èï¼‰

```bash
# å°†å›¾ç‰‡ä¸‹è½½åˆ°æ–‡ç« ç›®å½•çš„ images/ æ–‡ä»¶å¤¹
# CDN è·¯å¾„å³ä¸ºå®é™…æ–‡ä»¶è·¯å¾„
curl "https://mmbiz.qpic.cn/xxx.jpg" -o general/article-name/images/00_cover.jpg

# CDN é“¾æ¥: https://cdn.jsdelivr.net/gh/maxzyma/articleread/general/article-name/images/00_cover.jpg
```

**é…ç½®è¦æ±‚**ï¼š

```bash
# åˆ›å»º GitHub Personal Access Token
# è®¿é—®: https://github.com/settings/tokens
# æƒé™: repo (full control)

# è®¾ç½®ç¯å¢ƒå˜é‡ï¼ˆåªéœ€é…ç½® GITHUB_TOKENï¼ï¼‰
export GITHUB_TOKEN="ghp_xxxxxxxxxxxxxxx"

# æ³¨æ„ï¼šGITHUB_IMAGE_REPO ä¼šè‡ªåŠ¨æ£€æµ‹å½“å‰ git ä»“åº“ï¼Œæ— éœ€æ‰‹åŠ¨é…ç½®
```

**ä»“åº“è‡ªåŠ¨æ£€æµ‹**ï¼š
- è„šæœ¬ä¼šè‡ªåŠ¨ä» `git remote -v` æ£€æµ‹ä»“åº“åœ°å€
- æ”¯æŒ HTTPS å’Œ SSH ä¸¤ç§ URL æ ¼å¼
- å¦‚æœè‡ªåŠ¨æ£€æµ‹å¤±è´¥ï¼Œå¯æ‰‹åŠ¨è®¾ç½® `GITHUB_IMAGE_REPO` ç¯å¢ƒå˜é‡

**æœ¬åœ°å›¾ç‰‡ç›®å½•ç»“æ„**ï¼ˆä»…ä½œä¸ºé™çº§æ–¹æ¡ˆï¼‰ï¼š
- å­˜å‚¨ä½ç½®ï¼š`æ–‡ç« ç›®å½•/images/`
- å‘½åæ ¼å¼ï¼š`image_1.jpg`, `image_2.png`, ...
- ä»…åœ¨å›¾åºŠä¸Šä¼ å¤±è´¥æ—¶ä½¿ç”¨
- å·²åœ¨ `.gitignore` ä¸­æ’é™¤ï¼ˆé¿å…æäº¤å¤§æ–‡ä»¶ï¼‰

**å»ºè®®**ï¼š
- âœ… ä¼˜å…ˆä½¿ç”¨ GitHub å›¾åºŠï¼ˆå…è´¹ã€ç¨³å®šã€CDN åŠ é€Ÿï¼‰
- âœ… è¿œç¨‹é“¾æ¥å›¾ç‰‡æ— éœ€ä¸Šä¼ 
- âš ï¸ æœ¬åœ°å­˜å‚¨ä»…ä½œä¸ºé™çº§æ–¹æ¡ˆ

**âš ï¸ å¾®ä¿¡å…¬ä¼—å·å›¾ç‰‡æå–æœ€ä½³å®è·µï¼ˆé‡è¦ï¼‰**

æ ¹æ®å®é™…æ¡ˆä¾‹ï¼ˆBoris Cherny Claude Code å·¥ä½œæµæ–‡ç« æå–ï¼‰ï¼Œæ€»ç»“äº†ä»¥ä¸‹å…³é”®æ•™è®­ï¼š

**é—®é¢˜1ï¼šæ‡’åŠ è½½å¯¼è‡´å›¾ç‰‡ä¸å®Œæ•´**
- **åŸå› **ï¼šå¾®ä¿¡å…¬ä¼—å·ä½¿ç”¨æ‡’åŠ è½½ï¼Œåˆå§‹çŠ¶æ€ä¸‹åªæœ‰é¦–å±å›¾ç‰‡åŠ è½½
- **è§£å†³**ï¼šå¿…é¡»å…ˆæ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨è§¦å‘æ‰€æœ‰æ‡’åŠ è½½ï¼Œå†æå–å›¾ç‰‡URL
- **æ“ä½œ**ï¼š
  ```javascript
  // æ»šåŠ¨åˆ°é¡µé¢åº•éƒ¨
  window.scrollTo(0, document.body.scrollHeight);
  // ç­‰å¾…2ç§’è®©å›¾ç‰‡åŠ è½½
  await new Promise(resolve => setTimeout(resolve, 2000));
  // å†æå–å›¾ç‰‡
  ```

**é—®é¢˜2ï¼šå ä½ç¬¦ SVG è¢«è¯¯è®¤ä¸ºçœŸå®å›¾ç‰‡**
- **åŸå› **ï¼šæœªåŠ è½½çš„å›¾ç‰‡æ˜¾ç¤ºä¸º `data:image/svg+xml` å ä½ç¬¦
- **è§£å†³**ï¼šè¿‡æ»¤æ‰æ‰€æœ‰ SVG å›¾ç‰‡ï¼Œåªä¿ç•™ `mmbiz.qpic.cn` çš„çœŸå®å›¾ç‰‡
- **åˆ¤æ–­æ¡ä»¶**ï¼š
  ```javascript
  // âœ… ä¿ç•™ï¼šçœŸå®å¾®ä¿¡å›¾ç‰‡
  url.includes('mmbiz.qpic.cn') && !url.includes('svg')
  // âŒ æ’é™¤ï¼šå ä½ç¬¦
  url.includes('data:image/svg')
  ```

**é—®é¢˜3ï¼šimgIndex ç¼–å·ä¸è¿ç»­**
- **åŸå› **ï¼šå¾®ä¿¡å›¾ç‰‡çš„ `#imgIndex=N` ç¼–å·ä¸ä¸€å®šè¿ç»­
- **é™·é˜±**ï¼šimgIndex å¯èƒ½æ˜¯ 0,1,2,3,4,5,6,7ï¼ˆè·³è¿‡æŸäº›æ•°å­—ï¼‰
- **è§£å†³**ï¼šä¸è¦å‡è®¾ imgIndex è¿ç»­ï¼Œå¿…é¡»é€šè¿‡ URL ä¸­çš„ imgIndex å‚æ•°åŒ¹é…ç« èŠ‚

**é—®é¢˜4ï¼šå¹¿å‘Šå›¾ç‰‡è¢«è¯¯å½“ä½œæ­£æ–‡å†…å®¹**
- **åŸå› **ï¼šæ–‡ç« æœ«å°¾çš„"æ¨èé˜…è¯»"å›¾ç‰‡ä¹Ÿæ˜¯ mmbiz åŸŸå
- **è¯†åˆ«**ï¼šé€šå¸¸åœ¨å€’æ•°ç¬¬äºŒã€ç¬¬ä¸‰ä¸ª H3 æ ‡é¢˜ä¹‹åå‡ºç°
- **è§£å†³**ï¼š
  - æ£€æŸ¥å›¾ç‰‡ä½ç½®ï¼šå¦‚æœåœ¨"ç»“è¯­"æˆ–"å…³äºä½œè€…"ä¹‹åï¼Œå¾ˆå¯èƒ½æ˜¯å¹¿å‘Š
  - æŸ¥çœ‹å›¾ç‰‡ä¸Šä¸‹æ–‡ï¼šå¦‚æœæœ‰é“¾æ¥åˆ°å…¶ä»–æ–‡ç« ï¼Œæ˜¯æ¨èå›¾ç‰‡
  - äººå·¥ç¡®è®¤ï¼šç”¨ `take_screenshot` æŸ¥çœ‹å›¾ç‰‡å†…å®¹

**é—®é¢˜5ï¼šå›¾ç‰‡ä½ç½®ä¸ç« èŠ‚å¯¹åº”æ··ä¹±**
- **åŸå› **ï¼šå›¾ç‰‡çš„ DOM é¡ºåºä¸æ–‡æœ¬é¡ºåºä¸ä¸€å®šä¸€è‡´
- **è§£å†³æ–¹æ³•**ï¼š
  1. **æ–¹æ³•Aï¼šæŒ‰ imgIndex åŒ¹é…**ï¼ˆæ¨èï¼‰
     ```javascript
     // æå–æ‰€æœ‰å›¾ç‰‡çš„ imgIndex
     const imgIndex = url.match(/imgIndex=(\d+)/)?.[1];
     // æŒ‰ç« èŠ‚é¡ºåºåˆ†é…å›¾ç‰‡
     ```
  2. **æ–¹æ³•Bï¼šæˆªå›¾éªŒè¯**
     - å¯¹æ¯ä¸ªç« èŠ‚ä½¿ç”¨ `take_screenshot` ç¡®è®¤æ˜¯å¦æœ‰å›¾ç‰‡
     - é€ä¸ªå¯¹æ¯”ï¼Œç¡®ä¿å›¾ç‰‡ä½ç½®æ­£ç¡®

**é—®é¢˜6ï¼šéƒ¨åˆ†å›¾ç‰‡éœ€è¦å¤šæ¬¡æ£€æŸ¥**
- **ç°è±¡**ï¼šç¬¬03èŠ‚å’Œç¬¬05èŠ‚æœ€åˆæ£€æŸ¥æ˜¾ç¤º"æ— å›¾ç‰‡"ï¼Œä½†å®é™…æœ‰å›¾ç‰‡
- **åŸå› **ï¼šå¯èƒ½æ˜¯æ‡’åŠ è½½è§¦å‘æ—¶æœºä¸å¯¹ï¼Œæˆ–è€…æ£€æŸ¥æ–¹æ³•æœ‰è¯¯
- **è§£å†³**ï¼š
  - ç”¨æˆ·åé¦ˆ"å›¾ç‰‡é—æ¼"æ—¶ï¼Œé‡æ–°ç”¨æˆªå›¾éªŒè¯
  - ä½¿ç”¨ `take_snapshot` æŸ¥çœ‹è¯¥ç« èŠ‚çš„å®Œæ•´å†…å®¹
  - æ»šåŠ¨åˆ°è¯¥ç« èŠ‚ä½ç½®åå†æ£€æŸ¥

**é—®é¢˜7ï¼šé€šè¿‡å›¾ç‰‡å†…å®¹æ¨æ–­ä½ç½®å¯¼è‡´é”™è¯¯ï¼ˆå¸¸è§è¯¯åŒºï¼‰** âš ï¸ **é‡è¦**
- **é”™è¯¯åšæ³•**ï¼šé€šè¿‡ OCR æˆ–è§†è§‰åˆ†æç†è§£å›¾ç‰‡å†…å®¹ï¼Œç„¶åæ¨æ–­å®ƒåº”è¯¥åœ¨å“ªä¸ªç« èŠ‚
- **é”™è¯¯åŸå› **ï¼š
  - å›¾ç‰‡å†…å®¹å¯èƒ½ç›¸ä¼¼ï¼ˆå¦‚å¤šä¸ªä»£ç ç¤ºä¾‹ã€å¤šä¸ªå¯¹æ¯”å›¾ï¼‰
  - ä¸åŒå›¾ç‰‡å¯èƒ½æœ‰ç›¸ä¼¼çš„å†…å®¹æè¿°
  - äººå·¥åˆ†æè€—æ—¶ä¸”å®¹æ˜“å‡ºé”™
- **æ­£ç¡®åšæ³•**ï¼š**æŒ‰ç…§ç½‘é¡µä¸­å›¾ç‰‡çš„å‡ºç°é¡ºåºï¼ˆimgIndexï¼‰ç¡®å®šä½ç½®**
- **å¾®ä¿¡å…¬ä¼—å·å›¾ç‰‡çš„ imgIndex æœºåˆ¶**ï¼š
  - å¾®ä¿¡å›¾ç‰‡ URL åŒ…å« `#imgIndex=0`, `#imgIndex=1`, `#imgIndex=2` ç­‰å‚æ•°
  - imgIndex ç›´æ¥å¯¹åº”å›¾ç‰‡åœ¨æ–‡ç« ä¸­çš„å‡ºç°é¡ºåº
  - åº”è¯¥æŒ‰ç…§ imgIndex çš„é¡ºåºæ¥ä¸‹è½½å’Œå¼•ç”¨å›¾ç‰‡
- **æ­£ç¡®æµç¨‹**ï¼š
  ```javascript
  // æ­¥éª¤1ï¼šæå–æ‰€æœ‰å›¾ç‰‡åŠå…¶ imgIndex
  const images = Array.from(document.querySelectorAll('img'));
  const articleImages = images
    .map(img => {
      const url = img.src || img['data-src'];
      const match = url.match(/imgIndex=(\d+)/);
      return {
        url: url,
        imgIndex: match ? match[1] : 'cover'  // 'cover' æ˜¯å°é¢å›¾
      };
    })
    .filter(img => img.url && img.url.includes('mmbiz.qpic.cn'));

  // æ­¥éª¤2ï¼šæŒ‰ç…§ imgIndex é¡ºåºä¸‹è½½
  // imgIndex=0 â†’ image_0.png
  // imgIndex=1 â†’ image_1.png
  // imgIndex=2 â†’ image_2.png
  // ...

  // æ­¥éª¤3ï¼šæ ¹æ®ç½‘é¡µå¿«ç…§ä¸­çš„æ–‡æœ¬ä½ç½®ç¡®å®šå›¾ç‰‡ä½ç½®

---

## æ–°å¢ï¼šå¹¿å‘Šå›¾ç‰‡è‡ªåŠ¨è¿‡æ»¤ï¼ˆ2026-01 æ›´æ–°ï¼‰

### å¹¿å‘Šå›¾ç‰‡è¯†åˆ«è§„åˆ™

**éœ€è¦è¿‡æ»¤çš„å›¾ç‰‡ç±»å‹**ï¼š

| ç±»å‹ | ç‰¹å¾ | è¯†åˆ«æ–¹æ³• |
|------|------|----------|
| è¿›ç¾¤/å…³æ³¨äºŒç»´ç  | "è¿›ç¾¤åæœ‰æœºä¼šå¾—åˆ°"åŒºåŸŸ | æ£€æŸ¥å›¾ç‰‡å‰åçš„æ–‡æœ¬ |
| æ¨èé˜…è¯»ç¼©ç•¥å›¾ | "æ›´å¤šé˜…è¯»"åŒºåŸŸ | æ£€æŸ¥æ˜¯å¦é“¾æ¥åˆ°å…¶ä»–æ–‡ç«  |
| å…¬ä¼—å· Logo/å¤´åƒ | å°ºå¯¸é€šå¸¸è¾ƒå°ï¼ˆ<100pxï¼‰ | æ£€æŸ¥ naturalWidth |
| è£…é¥°æ€§å›¾æ ‡ | ä¸æ–‡ç« å†…å®¹æ— å…³ | æ£€æŸ¥ä¸Šä¸‹æ–‡ |

### è‡ªåŠ¨è¿‡æ»¤è„šæœ¬

```javascript
// è¯†åˆ«å¹¶è¿‡æ»¤å¹¿å‘Šå›¾ç‰‡
function isAdImage(imgElement, precedingText, followingText) {
    const adKeywords = [
        'è¿›ç¾¤å', 'å…³æ³¨æˆ‘ä»¬', 'æ‰«ç åŠ å…¥',
        'æ›´å¤šé˜…è¯»', 'æ¨èé˜…è¯»', 'ç›¸å…³æ–‡ç« ',
        'é•¿æŒ‰è¯†åˆ«', 'æ‰«ç å…³æ³¨', 'äºŒç»´ç '
    ];

    // 1. æ£€æŸ¥å°ºå¯¸ï¼ˆå¤ªå°çš„å¯èƒ½æ˜¯äºŒç»´ç /Logoï¼‰
    if (imgElement.naturalWidth < 100 || imgElement.naturalHeight < 100) {
        return true;
    }

    // 2. æ£€æŸ¥ä¸Šä¸‹æ–‡æ˜¯å¦åŒ…å«å¹¿å‘Šå…³é”®è¯
    const context = (precedingText + ' ' + followingText).toLowerCase();
    for (const keyword of adKeywords) {
        if (context.includes(keyword.toLowerCase())) {
            return true;
        }
    }

    // 3. æ£€æŸ¥æ˜¯å¦æ˜¯"æ›´å¤šé˜…è¯»"åŒºåŸŸçš„å›¾ç‰‡
    if (context.includes('æ›´å¤šé˜…è¯»') || context.includes('æ¨èé˜…è¯»')) {
        // å¦‚æœå›¾ç‰‡åé¢ç´§è·Ÿé“¾æ¥åˆ°å…¶ä»–å¾®ä¿¡æ–‡ç« ï¼Œæ˜¯æ¨èå›¾ç‰‡
        const nextLink = imgElement.nextElementSibling?.closest('a');
        if (nextLink && nextLink.href?.includes('mp.weixin.qq.com')) {
            return true;
        }
    }

    return false;
}

// ä½¿ç”¨ç¤ºä¾‹
const allImages = Array.from(document.querySelectorAll('img'));
const contentImages = allImages.filter(img => {
    const url = img.src || img['data-src'];
    if (!url?.includes('mmbiz.qpic.cn')) return false;
    if (url.includes('data:image/svg')) return false;

    // è·å–å›¾ç‰‡å‰åçš„æ–‡æœ¬
    const precedingText = img.previousElementSibling?.textContent || '';
    const followingText = img.nextElementSibling?.textContent || '';

    return !isAdImage(img, precedingText, followingText);
});
```

### æè¿°æ€§å‘½åè§„åˆ™ï¼ˆæ¨èï¼‰

**âŒ æ—§æ–¹å¼ï¼ˆæ˜“æ··æ·†ï¼‰**ï¼š
```
img-0.gif, img-1.jpg, img-2.jpg, img-3.jpg, img-4.jpg
```
- é¡ºåºè°ƒæ•´æ—¶å®¹æ˜“æ··æ·†
- æ–‡ä»¶åæ— è¯­ä¹‰

**âœ… æ–°æ–¹å¼ï¼ˆæ¨èï¼‰**ï¼š
```
stripe-ceo-evaluation.png      # Stripe CEO è¯„ä»·
solid-react-migration.png       # Solidâ†’React è¿ç§»
agent-testing-demo.png          # Agent æµ‹è¯•åŠ¨å›¾
failure-modes-summary.png       # å››ç§å¤±è´¥æ¨¡å¼
michael-truell-response.png     # Michael Truell å›åº”
```
- æ–‡ä»¶åç›´æ¥å¯¹åº”å†…å®¹å«ä¹‰
- é¡ºåºè°ƒæ•´ä¸å½±å“æ–‡ä»¶è¯­ä¹‰

**ç”Ÿæˆæè¿°æ€§åç§°**ï¼š

```javascript
// æ ¹æ®ä¸Šä¸‹æ–‡ç”Ÿæˆæè¿°æ€§åç§°
function generateImageName(contextText, index) {
    // æå–ä¸Šä¸‹æ–‡ä¸­çš„å…³é”®è¯
    const cleanText = contextText.replace(/<[^>]*>/g, '')
        .replace(/&[a-z]+;/g, ' ')
        .trim();

    // æå–2-4ä¸ªè¯ä½œä¸ºåç§°
    const words = cleanText.split(/\s+/)
        .filter(w => w.length > 3 && /^[a-zA-Z\u4e00-\u9fa5]/.test(w))
        .slice(0, 4);

    if (words.length > 0) {
        return words.join('-').toLowerCase().substring(0, 50);
    }
    return `image-${index}`;
}
```

**å‘½åæœ€ä½³å®è·µ**ï¼š
1. ä½¿ç”¨çŸ­æ ¼å¼ï¼ˆ3-5ä¸ªè¯ï¼‰
2. å…¨éƒ¨å°å†™ï¼Œç©ºæ ¼ç”¨è¿å­—ç¬¦æ›¿æ¢
3. é¿å…ç‰¹æ®Šå­—ç¬¦
4. ä¿æŒç®€æ´ä½†æœ‰æ„ä¹‰